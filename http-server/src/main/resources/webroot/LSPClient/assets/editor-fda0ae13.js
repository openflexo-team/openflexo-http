import{_ as P,a as p,Y as ye,aR as Rt,aQ as L,X as Bt,Q as Ii,bO as Mi,e as Je,jB as To,o as G,w as Ot,bd as Po,a2 as q,t as Ue,a6 as Do,aa as pe,ac as me,H as De,$ as _e,G as Yt,b7 as _o,c1 as Ai,x as xe,jP as ki,jQ as xo,av as $e,jR as Ro,B as i,jh as bt,b3 as we,b0 as Xt,af as Bo,bb as Oo,jS as Go,b5 as Zt,dF as Fo,E as St,bj as h,c0 as y,aj as a,aN as c,aH as s,jT as re,aF as g,aC as Li,ak as M,al as w,V as T,aK as Ce,n as Ti,jU as qe,jV as Vo,jW as Pi,jX as fe,Z as No,f_ as Uo,bv as Gt,a0 as Ft,jY as yt,fO as Di,bK as Ho,bg as qo,bQ as zo,jZ as _i,j_ as Ko,j$ as Wo,k0 as jo,O as xi,N as Qo,dd as Ri,cx as te,dx as Bi,k1 as wt,k2 as ae,aI as Jo,D as Ye,k3 as $o,k4 as V,bz as Xe,bC as Oi,f as Vt,j3 as Gi,k5 as Yo,k6 as Xo,aL as Zo,k7 as j,l as X,k8 as en,k9 as tn,ka as on,kb as nn,kc as an,kd as rn,ke as sn,kf as Fi,hl as Re,kg as ei,kh as ti,ki as cn,kj as Be,z as ee,ct as Nt,kk as dn,dB as ze,dC as Ke,au as We,kl as ln,km as ii,kn as Z,hd as un,ko as gn,bM as hn,S as Ct,kp as oi,ff as ni,dl as ai,dT as pn,kq as mn,U as fn,kr as ri,ie as bn,g as En,ks as Ze,dw as vn,kt as H,dU as Ut,ku as Sn,fk as yn,f4 as wn,bx as Cn,cz as In,aU as Mn,d as An,kv as Ht,a3 as ie,eV as et,kw as tt,k as be,kx as kn,ky as si,iQ as Vi,iB as Ni,hp as Ln,kz as Tn,kA as ci,kB as Ui,kC as di,kD as Hi,kE as li,kF as qi,kG as Pn,kH as Dn,kI as _n,kJ as xn,kK as Rn,kL as Bn,kM as On,kN as Gn,kO as Fn,kP as Vn,kQ as Nn,kR as Un,kS as zi,kT as Ki,kU as Hn,kV as qn,kW as zn,kX as Kn,kY as Wn,kZ as jn,k_ as qt,k$ as Qn,l0 as Jn,l1 as $n,l2 as Yn,l3 as Xn,l4 as Zn,l5 as ea,l6 as ta,l7 as ia,l8 as oa,l9 as na,la as aa,lb as ra,lc as sa,ld as ca,le as da,lf as la,lg as ua,lh as ga,li as ha,lj as pa,lk as ma,ll as fa,lm as ba,ln as Ea,lo as va,lp as Sa,lq as ya,lr as wa,ls as Ca,lt as Ia,lu as Ma,lv as Aa,lw as ka,lx as La,ly as Ta,lz as Pa,lA as Da,lB as _a,lC as xa,lD as Ra,lE as Ba,lF as Oa,lG as Ga,lH as Fa,lI as Va,lJ as Na,lK as Ua,lL as Ha,lM as qa,lN as za,lO as Ka,lP as Wa,lQ as ja,lR as Qa,lS as Ja,lT as $a,lU as Ya,lV as Xa,lW as Za,lX as er,lY as Wi,lZ as ji,l_ as Qi,l$ as Ji,m0 as $i,m1 as Yi,m2 as Xi,m3 as Zi,m4 as tr,m5 as ir,m6 as or,m7 as nr,m8 as ar,m9 as rr,ma as sr,mb as cr,eL as eo,dR as it,mc as to,md as ot,me as Ie,mf as nt,mg as Me,mh as io,mi as D,f1 as de,gT as oo,fb as dr,mj as no,dN as ao,mk as Ae,gU as zt,gV as ke,gL as ro,gM as so,ml as co,dL as lr,mm as lo,dO as le,mn as at,mo as uo,dP as go,mp as ho,dQ as Le,mq as ur,mr as gr,ms as hr,mt as pr,fa as rt,mu as mr,mv as fr,mw as ue,mx as po,my as br,mz as Er,mA as vr,mB as Sr,mC as yr,cF as Oe,iM as ui,iN as gi,mD as mo,dq as fo,dG as wr,fA as hi,iO as Cr,iT as Ir,jA as Mr,gq as Ar,mE as kr,jO as oe,eS as pi,eT as mi}from"./index-1e6bb64c.js";import{T as fi}from"./textResourceEditor-19643567.js";import{i as Lr,g as bo}from"./quickaccess-364b5136.js";import{F as bi}from"./codeeditor-60d8146c.js";class Kt extends we{constructor(e){var t;super(e.id,e.name,(t=e.classNames)==null?void 0:t.join(" "),!0),this._activity=e,this._onDidChangeActivity=this._register(new St),this.onDidChangeActivity=this._onDidChangeActivity.event,this._onDidChangeBadge=this._register(new St),this.onDidChangeBadge=this._onDidChangeBadge.event}get activity(){return this._activity}set activity(e){this._label=e.name,this._activity=e,this._onDidChangeActivity.fire(this)}activate(){this.checked||this._setChecked(!0)}deactivate(){this.checked&&this._setChecked(!1)}getBadge(){return this.badge}getClass(){return this.clazz}setBadge(e,t){this.badge=e,this.clazz=t,this._onDidChangeBadge.fire(this)}dispose(){this._onDidChangeActivity.dispose(),this._onDidChangeBadge.dispose(),super.dispose()}}let Ee=class It extends To{constructor(e,t,o,n,r,l,u){super(null,e,t),this.badgesEnabled=o,this.themeService=n,this.hoverService=r,this.configurationService=l,this.keybindingService=u,this.badgeDisposable=this._register(new G),this.hoverDisposables=this._register(new Ot),this.showHoverScheduler=new Po(()=>this.showHover(),0),this.options=t,this._register(this.themeService.onDidColorThemeChange(this.onThemeChange,this)),this._register(e.onDidChangeActivity(this.updateActivity,this)),this._register(q.filter(u.onDidUpdateKeybindings,()=>this.keybindingLabel!==this.computeKeybindingLabel())(()=>this.updateTitle())),this._register(e.onDidChangeBadge(this.updateBadge,this)),this._register(Ue(()=>this.showHoverScheduler.cancel()))}get activity(){return this._action.activity}updateStyles(){const e=this.themeService.getColorTheme(),t=this.options.colors(e);if(this.label){if(this.options.icon){const o=this._action.checked?t.activeForegroundColor:t.inactiveForegroundColor;this.activity.iconUrl?(this.label.style.backgroundColor=o?o.toString():"",this.label.style.color=""):(this.label.style.color=o?o.toString():"",this.label.style.backgroundColor="")}else{const o=this._action.checked?t.activeForegroundColor:t.inactiveForegroundColor,n=this._action.checked?t.activeBorderBottomColor:null;this.label.style.color=o?o.toString():"",this.label.style.borderBottomColor=n?n.toString():""}this.container.style.setProperty("--insert-border-color",t.dragAndDropBorder?t.dragAndDropBorder.toString():"")}if(this.badgeContent){const o=t.badgeForeground,n=t.badgeBackground,r=e.getColor(Do);this.badgeContent.style.color=o?o.toString():"",this.badgeContent.style.backgroundColor=n?n.toString():"",this.badgeContent.style.borderStyle=r?"solid":"",this.badgeContent.style.borderWidth=r?"1px":"",this.badgeContent.style.borderColor=r?r.toString():""}}render(e){super.render(e),this.container=e,this.options.icon&&this.container.classList.add("icon"),this.options.hasPopup?(this.container.setAttribute("role","button"),this.container.setAttribute("aria-haspopup","true")):this.container.setAttribute("role","tab"),this._register(pe(this.container,me.MOUSE_DOWN,()=>{this.container.classList.add("clicked")})),this._register(pe(this.container,me.MOUSE_UP,()=>{this.mouseUpTimeout&&clearTimeout(this.mouseUpTimeout),this.mouseUpTimeout=setTimeout(()=>{this.container.classList.remove("clicked")},800)})),this.label=De(e,_e("a")),this.badge=De(e,_e(".badge")),this.badgeContent=De(this.badge,_e(".badge-content")),De(e,_e(".active-item-indicator")),Yt(this.badge),this.updateActivity(),this.updateStyles(),this.updateHover()}onThemeChange(e){this.updateStyles()}updateActivity(){this.updateLabel(),this.updateTitle(),this.updateBadge(),this.updateStyles()}updateBadge(){const e=this.action;if(!this.badge||!this.badgeContent||!(e instanceof Kt))return;const t=e.getBadge(),o=e.getClass();this.badgeDisposable.clear(),_o(this.badgeContent),Yt(this.badge);const n=this.badgesEnabled(this.activity.id);if(t&&n){if(t instanceof Ai){if(t.number){let r=t.number.toString();if(t.number>999){const l=t.number/1e3,u=Math.floor(l);l>u?r=`${u}K+`:r=`${l}K`}this.badgeContent.textContent=r,xe(this.badge)}}else if(t instanceof ki)this.badgeContent.textContent=t.text,xe(this.badge);else if(t instanceof xo){const r=$e.asClassNameArray(t.icon);this.badgeContent.classList.add(...r),xe(this.badge)}else t instanceof Ro&&xe(this.badge);if(o){const r=o.split(" ");this.badge.classList.add(...r),this.badgeDisposable.value=Ue(()=>this.badge.classList.remove(...r))}}this.updateTitle()}updateLabel(){this.label.className="action-label",this.activity.classNames&&this.label.classList.add(...this.activity.classNames),this.options.icon||(this.label.textContent=this.action.label)}updateTitle(){const e=this.computeTitle();[this.label,this.badge,this.container].forEach(t=>{t&&(t.setAttribute("aria-label",e),t.setAttribute("title",""),t.removeAttribute("title"))})}computeTitle(){this.keybindingLabel=this.computeKeybindingLabel();let e=this.keybindingLabel?i("titleKeybinding","{0} ({1})",this.activity.name,this.keybindingLabel):this.activity.name;const t=this.action.getBadge();return t!=null&&t.getDescription()&&(e=i("badgeTitle","{0} - {1}",e,t.getDescription())),e}computeKeybindingLabel(){const e=this.activity.keybindingId?this.keybindingService.lookupKeybinding(this.activity.keybindingId):null;return e==null?void 0:e.getLabel()}updateHover(){this.hoverDisposables.clear(),this.updateTitle(),this.hoverDisposables.add(pe(this.container,me.MOUSE_OVER,()=>{this.showHoverScheduler.isScheduled()||(Date.now()-It.hoverLeaveTime<200?this.showHover(!0):this.showHoverScheduler.schedule(this.configurationService.getValue("workbench.hover.delay")))},!0)),this.hoverDisposables.add(pe(this.container,me.MOUSE_LEAVE,e=>{e.target===this.container&&(It.hoverLeaveTime=Date.now(),this.hoverService.hideHover(),this.showHoverScheduler.cancel())},!0)),this.hoverDisposables.add(Ue(()=>{this.hoverService.hideHover(),this.showHoverScheduler.cancel()}))}showHover(e=!1){if(this.lastHover&&!this.lastHover.isDisposed)return;const t=this.options.hoverOptions.position();this.lastHover=this.hoverService.showHover({target:this.container,hoverPosition:t,content:this.computeTitle(),showPointer:!0,compact:!0,hideOnKeyDown:!0,skipFadeInAnimation:e})}dispose(){super.dispose(),this.mouseUpTimeout&&clearTimeout(this.mouseUpTimeout),this.badge.remove()}};Ee.hoverLeaveTime=0;Ee=P([p(3,ye),p(4,Rt),p(5,L),p(6,Bt)],Ee);class Is extends Kt{constructor(e){super({id:"additionalComposites.action",name:i("additionalViews","Additional Views"),classNames:$e.asClassNameArray(h.more)}),this.showMenu=e}async run(){this.showMenu()}}let Ei=class extends Ee{constructor(e,t,o,n,r,l,u,m,f,b,E,v){super(e,{icon:!0,colors:l,hasPopup:!0,hoverOptions:u},()=>!0,f,b,E,v),this.getOverflowingComposites=t,this.getActiveCompositeId=o,this.getBadge=n,this.getCompositeOpenAction=r,this.contextMenuService=m,this.actions=[]}showMenu(){this.actions&&bt(this.actions),this.actions=this.getActions(),this.contextMenuService.showContextMenu({getAnchor:()=>this.container,getActions:()=>this.actions,getCheckedActionsRepresentation:()=>"radio",onHide:()=>bt(this.actions)})}getActions(){return this.getOverflowingComposites().map(e=>{const t=this.getCompositeOpenAction(e.id);t.checked=this.getActiveCompositeId()===t.id;const o=this.getBadge(e.id);let n;return o instanceof Ai?n=o.number:o instanceof ki&&(n=o.text),n?t.label=i("numberBadge","{0} ({1})",e.name,n):t.label=e.name||"",t})}dispose(){super.dispose(),this.actions&&(this.actions=bt(this.actions))}};Ei=P([p(7,Ii),p(8,ye),p(9,Rt),p(10,L),p(11,Bt)],Ei);let Mt=class extends we{constructor(e){super("activitybar.manage.extension",i("manageExtension","Manage Extension")),this.commandService=e}run(e){return this.commandService.executeCommand("_extensions.manage",e)}};Mt=P([p(0,Mi)],Mt);let vi=class He extends Ee{constructor(e,t,o,n,r,l,u,m,f,b,E,v,S,I){super(t,e,m.areBadgesEnabled.bind(m),v,S,I,b),this.compositeActivityAction=t,this.toggleCompositePinnedAction=o,this.toggleCompositeBadgeAction=n,this.compositeContextMenuActionsProvider=r,this.contextMenuActionsProvider=l,this.dndHandler=u,this.compositeBar=m,this.contextMenuService=f,He.manageExtensionAction||(He.manageExtensionAction=E.createInstance(Mt))}render(e){super.render(e),this.updateChecked(),this.updateEnabled(),this._register(pe(this.container,me.CONTEXT_MENU,o=>{Xt.stop(o,!0),this.showContextMenu(e)}));let t;this._register(Bo.INSTANCE.registerDraggable(this.container,()=>({type:"composite",id:this.activity.id}),{onDragOver:o=>{const n=o.dragAndDropData.getData().id!==this.activity.id&&this.dndHandler.onDragOver(o.dragAndDropData,this.activity.id,o.eventData);Oo(o.eventData.dataTransfer,"move",n),t=this.updateFromDragging(e,n,o.eventData)},onDragLeave:o=>{t=this.updateFromDragging(e,!1,o.eventData)},onDragEnd:o=>{t=this.updateFromDragging(e,!1,o.eventData)},onDrop:o=>{Xt.stop(o.eventData,!0),this.dndHandler.drop(o.dragAndDropData,this.activity.id,o.eventData,t),t=this.updateFromDragging(e,!1,o.eventData)},onDragStart:o=>{o.dragAndDropData.getData().id===this.activity.id&&(o.eventData.dataTransfer&&(o.eventData.dataTransfer.effectAllowed="move"),this.blur())}})),[this.badge,this.label].forEach(o=>this._register(new Go(o,()=>{this.action.checked||this.action.run()}))),this.updateStyles()}updateFromDragging(e,t,o){const n=e.getBoundingClientRect(),r=o.clientX,l=o.clientY,u=n.bottom-n.top,m=n.right-n.left,f=l<=n.top+u*.4,b=l>n.bottom-u*.4,E=l<=n.top+u*.5,v=r<=n.left+m*.4,S=r>n.right-m*.4,I=r<=n.left+m*.5,k=e.classList,A={vertical:k.contains("top")?"top":k.contains("bottom")?"bottom":void 0,horizontal:k.contains("left")?"left":k.contains("right")?"right":void 0},J=f||E&&!A.vertical||!b&&A.vertical==="top",_=b||!E&&!A.vertical||!f&&A.vertical==="bottom",B=v||I&&!A.horizontal||!S&&A.horizontal==="left",$=S||!I&&!A.horizontal||!v&&A.horizontal==="right";if(e.classList.toggle("top",t&&J),e.classList.toggle("bottom",t&&_),e.classList.toggle("left",t&&B),e.classList.toggle("right",t&&$),!!t)return{verticallyBefore:J,horizontallyBefore:B}}showContextMenu(e){const t=[this.toggleCompositePinnedAction,this.toggleCompositeBadgeAction],o=this.compositeContextMenuActionsProvider(this.activity.id);o.length&&t.push(...o),this.compositeActivityAction.activity.extensionId&&(t.push(new Zt),t.push(He.manageExtensionAction)),this.compositeBar.isPinned(this.activity.id)?(this.toggleCompositePinnedAction.label=i("hide","Hide '{0}'",this.activity.name),this.toggleCompositePinnedAction.checked=!1):this.toggleCompositePinnedAction.label=i("keep","Keep '{0}'",this.activity.name),this.compositeBar.areBadgesEnabled(this.activity.id)?this.toggleCompositeBadgeAction.label=i("hideBadge","Hide Badge"):this.toggleCompositeBadgeAction.label=i("showBadge","Show Badge");const l=this.contextMenuActionsProvider();l.length&&(t.push(new Zt),t.push(...l));const u=Fo(e),m={x:Math.floor(u.left+u.width/2),y:u.top+u.height};this.contextMenuService.showContextMenu({getAnchor:()=>m,getActions:()=>t,getActionsContext:()=>this.activity.id})}updateChecked(){this.action.checked?(this.container.classList.add("checked"),this.container.setAttribute("aria-label",this.container.title),this.container.setAttribute("aria-expanded","true"),this.container.setAttribute("aria-selected","true")):(this.container.classList.remove("checked"),this.container.setAttribute("aria-label",this.container.title),this.container.setAttribute("aria-expanded","false"),this.container.setAttribute("aria-selected","false")),this.updateStyles()}updateEnabled(){this.element&&(this.action.enabled?this.element.classList.remove("disabled"):this.element.classList.add("disabled"))}dispose(){super.dispose(),this.label.remove()}};vi=P([p(8,Ii),p(9,Bt),p(10,Je),p(11,ye),p(12,Rt),p(13,L)],vi);class Tr extends we{constructor(e,t){super("show.toggleCompositePinned",e?e.name:i("toggle","Toggle View Pinned")),this.activity=e,this.compositeBar=t,this.checked=!!this.activity&&this.compositeBar.isPinned(this.activity.id)}async run(e){const t=this.activity?this.activity.id:e;this.compositeBar.isPinned(t)?this.compositeBar.unpin(t):this.compositeBar.pin(t)}}class ks extends we{constructor(e,t){super("show.toggleCompositeBadge",e?e.name:i("toggleBadge","Toggle View Badge")),this.activity=e,this.compositeBar=t,this.checked=!1}async run(e){const t=this.activity?this.activity.id:e;this.compositeBar.toggleBadgeEnablement(t)}}var Ge;const Pr=y("auxiliarybar-right-layout-icon",h.layoutSidebarRight,i("toggleAuxiliaryIconRight","Icon to toggle the auxiliary bar off in its right position.")),Dr=y("auxiliarybar-right-off-layout-icon",h.layoutSidebarRightOff,i("toggleAuxiliaryIconRightOn","Icon to toggle the auxiliary bar on in its right position.")),_r=y("auxiliarybar-left-layout-icon",h.layoutSidebarLeft,i("toggleAuxiliaryIconLeft","Icon to toggle the auxiliary bar in its left position.")),xr=y("auxiliarybar-left-off-layout-icon",h.layoutSidebarLeftOff,i("toggleAuxiliaryIconLeftOn","Icon to toggle the auxiliary bar on in its left position."));class N extends M{constructor(){super({id:N.ID,title:{value:N.LABEL,original:"Toggle Secondary Side Bar Visibility"},toggled:{condition:re,title:i("secondary sidebar","Secondary Side Bar"),mnemonicTitle:i({key:"secondary sidebar mnemonic",comment:["&& denotes a mnemonic"]},"Secondary Si&&de Bar")},category:w.View,f1:!0,keybinding:{weight:200,primary:2592},menu:[{id:s.LayoutControlMenuSubmenu,group:"0_workbench_layout",order:1},{id:s.MenubarAppearanceMenu,group:"2_workbench_layout",order:2}]})}async run(e){const t=e.get(T);t.setPartHidden(t.isVisible("workbench.parts.auxiliarybar"),"workbench.parts.auxiliarybar")}}N.ID="workbench.action.toggleAuxiliaryBar";N.LABEL=i("toggleAuxiliaryBar","Toggle Secondary Side Bar Visibility");a(N);a((Ge=class At extends M{constructor(){super({id:At.ID,title:{value:At.LABEL,original:"Focus into Secondary Side Bar"},category:w.View,f1:!0})}async run(e){const t=e.get(Ce),o=e.get(T);o.isVisible("workbench.parts.auxiliarybar")||o.setPartHidden(!1,"workbench.parts.auxiliarybar");const n=t.getActivePaneComposite(2);n==null||n.focus()}},Ge.ID="workbench.action.focusAuxiliaryBar",Ge.LABEL=i("focusAuxiliaryBar","Focus into Secondary Side Bar"),Ge));c.appendMenuItems([{id:s.LayoutControlMenu,item:{group:"0_workbench_toggles",command:{id:N.ID,title:i("toggleSecondarySideBar","Toggle Secondary Side Bar"),toggled:{condition:re,icon:_r},icon:xr},when:g.and(g.or(g.equals("config.workbench.layoutControl.type","toggles"),g.equals("config.workbench.layoutControl.type","both")),g.equals("config.workbench.sideBar.location","right")),order:0}},{id:s.LayoutControlMenu,item:{group:"0_workbench_toggles",command:{id:N.ID,title:i("toggleSecondarySideBar","Toggle Secondary Side Bar"),toggled:{condition:re,icon:Pr},icon:Dr},when:g.and(g.or(g.equals("config.workbench.layoutControl.type","toggles"),g.equals("config.workbench.layoutControl.type","both")),g.equals("config.workbench.sideBar.location","left")),order:2}},{id:s.ViewTitleContext,item:{group:"3_workbench_layout_move",command:{id:N.ID,title:{value:i("hideAuxiliaryBar","Hide Secondary Side Bar"),original:"Hide Secondary Side Bar"}},when:g.and(re,g.equals("viewLocation",Li(2))),order:2}}]);var Rr=".monaco-workbench.nopanel .part.panel{display:none!important;visibility:hidden!important}.monaco-workbench .part.panel.bottom .composite.title{border-top-style:solid;border-top-width:1px}.monaco-workbench.noeditorarea .part.panel.bottom .composite.title{border-top-width:0}.monaco-workbench .part.panel.right{border-left-style:solid;border-left-width:1px}.monaco-workbench.noeditorarea .part.panel.right{border-left-width:0}.monaco-workbench .part.panel.left{border-right-style:solid;border-right-width:1px}.monaco-workbench.noeditorarea .part.panel.left{border-right-width:0}.monaco-workbench .part.panel>.content .monaco-editor,.monaco-workbench .part.panel>.content .monaco-editor .margin,.monaco-workbench .part.panel>.content .monaco-editor .monaco-editor-background{background-color:var(--vscode-panel-background)}.monaco-workbench .part.panel>.title>.panel-switcher-container>.monaco-action-bar .action-item:focus .action-label,.monaco-workbench .part.panel>.title>.panel-switcher-container>.monaco-action-bar .action-item:hover .action-label{color:var(--vscode-panelTitle-activeForeground)!important}.monaco-workbench .part.panel .monaco-inputbox{border-color:var(--vscode-panelInput-border,transparent)!important}.monaco-workbench .part.basepanel>.title>.panel-switcher-container>.monaco-action-bar .action-item:focus .active-item-indicator:before{border-top-color:var(--vscode-focusBorder)!important}.monaco-workbench .part.panel>.title>.panel-switcher-container>.monaco-action-bar .action-item:focus{outline:none}.monaco-workbench .part.basepanel>.title>.panel-switcher-container>.monaco-action-bar .action-item.checked.clicked:focus .active-item-indicator:before,.monaco-workbench .part.basepanel>.title>.panel-switcher-container>.monaco-action-bar .action-item.checked:not(:focus) .active-item-indicator:before{border-top-color:var(--vscode-panelTitle-activeBorder)!important}.monaco-workbench .part.basepanel>.title>.panel-switcher-container>.monaco-action-bar .action-item.checked .action-label,.monaco-workbench .part.basepanel>.title>.panel-switcher-container>.monaco-action-bar .action-item:hover .action-label{outline:var(--vscode-contrastActiveBorder,unset) solid 1px!important}.monaco-workbench .part.basepanel>.title>.panel-switcher-container>.monaco-action-bar .action-item:not(.checked):hover .action-label{outline:var(--vscode-contrastActiveBorder,unset) dashed 1px!important}";Ti(Rr,{});var Fe;y("panel-maximize",h.chevronUp,i("maximizeIcon","Icon to maximize a panel."));y("panel-restore",h.chevronDown,i("restoreIcon","Icon to restore a panel."));const Br=y("panel-close",h.close,i("closeIcon","Icon to close a panel.")),Or=y("panel-layout-icon",h.layoutPanel,i("togglePanelOffIcon","Icon to toggle the panel off when it is on.")),Gr=y("panel-layout-icon-off",h.layoutPanelOff,i("togglePanelOnIcon","Icon to toggle the panel on when it is off."));class K extends M{constructor(){super({id:K.ID,title:{value:K.LABEL,original:"Toggle Panel Visibility"},toggled:{condition:qe,title:i("toggle panel","Panel"),mnemonicTitle:i({key:"toggle panel mnemonic",comment:["&& denotes a mnemonic"]},"&&Panel")},f1:!0,category:w.View,keybinding:{primary:2088,weight:200},menu:[{id:s.MenubarAppearanceMenu,group:"2_workbench_layout",order:5},{id:s.LayoutControlMenuSubmenu,group:"0_workbench_layout",order:4}]})}async run(e){const t=e.get(T);t.setPartHidden(t.isVisible("workbench.parts.panel"),"workbench.parts.panel")}}K.ID="workbench.action.togglePanel";K.LABEL=i("togglePanelVisibility","Toggle Panel Visibility");a(K);a((Fe=class extends M{constructor(){super({id:"workbench.action.focusPanel",title:{value:i("focusPanel","Focus into Panel"),original:"Focus into Panel"},category:w.View,f1:!0})}async run(d){const e=d.get(T),t=d.get(Ce);e.isVisible("workbench.parts.panel")||e.setPartHidden(!1,"workbench.parts.panel");const o=t.getActivePaneComposite(1);o==null||o.focus()}},Fe.ID="workbench.action.focusPanel",Fe.LABEL=i("focusPanel","Focus into Panel"),Fe));const Et={LEFT:"workbench.action.positionPanelLeft",RIGHT:"workbench.action.positionPanelRight",BOTTOM:"workbench.action.positionPanelBottom"},Ve={LEFT:"workbench.action.alignPanelLeft",RIGHT:"workbench.action.alignPanelRight",CENTER:"workbench.action.alignPanelCenter",JUSTIFY:"workbench.action.alignPanelJustify"};function Eo(d,e,t,o,n){return{id:d,title:e,shortLabel:t,value:o,when:n}}function vt(d,e,t,o){return Eo(d,e,t,o,Vo.notEqualsTo(Pi(o)))}function Ne(d,e,t,o){return Eo(d,e,t,o,fe.notEqualsTo(o))}const Fr=[vt(Et.LEFT,{value:i("positionPanelLeft","Move Panel Left"),original:"Move Panel Left"},i("positionPanelLeftShort","Left"),0),vt(Et.RIGHT,{value:i("positionPanelRight","Move Panel Right"),original:"Move Panel Right"},i("positionPanelRightShort","Right"),1),vt(Et.BOTTOM,{value:i("positionPanelBottom","Move Panel To Bottom"),original:"Move Panel To Bottom"},i("positionPanelBottomShort","Bottom"),2)],Vr=[Ne(Ve.LEFT,{value:i("alignPanelLeft","Set Panel Alignment to Left"),original:"Set Panel Alignment to Left"},i("alignPanelLeftShort","Left"),"left"),Ne(Ve.RIGHT,{value:i("alignPanelRight","Set Panel Alignment to Right"),original:"Set Panel Alignment to Right"},i("alignPanelRightShort","Right"),"right"),Ne(Ve.CENTER,{value:i("alignPanelCenter","Set Panel Alignment to Center"),original:"Set Panel Alignment to Center"},i("alignPanelCenterShort","Center"),"center"),Ne(Ve.JUSTIFY,{value:i("alignPanelJustify","Set Panel Alignment to Justify"),original:"Set Panel Alignment to Justify"},i("alignPanelJustifyShort","Justify"),"justify")];c.appendMenuItem(s.MenubarAppearanceMenu,{submenu:s.PanelPositionMenu,title:i("positionPanel","Panel Position"),group:"3_workbench_layout_move",order:4});Fr.forEach(d=>{const{id:e,title:t,shortLabel:o,value:n,when:r}=d;a(class extends M{constructor(){super({id:e,title:t,category:w.View,f1:!0})}run(l){l.get(T).setPanelPosition(n===void 0?2:n)}}),c.appendMenuItem(s.PanelPositionMenu,{command:{id:e,title:o,toggled:r.negate()},order:5})});c.appendMenuItem(s.MenubarAppearanceMenu,{submenu:s.PanelAlignmentMenu,title:i("alignPanel","Align Panel"),group:"3_workbench_layout_move",order:5});Vr.forEach(d=>{const{id:e,title:t,shortLabel:o,value:n,when:r}=d;a(class extends M{constructor(){super({id:e,title:t,category:w.View,toggled:r.negate(),f1:!0})}run(l){l.get(T).setPanelAlignment(n===void 0?"center":n)}}),c.appendMenuItem(s.PanelAlignmentMenu,{command:{id:e,title:o,toggled:r.negate()},order:5})});let kt=class extends Kt{constructor(e,t,o){super(e),this.viewContainerLocation=t,this.paneCompositeService=o}async run(){await this.paneCompositeService.openPaneComposite(this.activity.id,this.viewContainerLocation,!0),this.activate()}setActivity(e){this.activity=e}};kt=P([p(2,Ce)],kt);let Si=class extends kt{constructor(e,t,o){super({id:e,name:e},t,o)}};Si=P([p(2,Ce)],Si);class Ps extends Tr{constructor(e,t){super({id:e,name:e,classNames:void 0},t)}setActivity(e){this.label=e.name}}class vo extends M{constructor(e,t){super({id:e,title:t,category:w.View,f1:!0})}async run(e,t){const o=e.get(Ce),n=o.getPinnedPaneCompositeIds(1),r=o.getActivePaneComposite(1);if(!r)return;let l;for(let u=0;u<n.length;u++)if(n[u]===r.getId()){l=n[(u+n.length+t)%n.length];break}typeof l=="string"&&await o.openPaneComposite(l,1,!0)}}a(class extends vo{constructor(){super("workbench.action.previousPanelView",{value:i("previousPanelView","Previous Panel View"),original:"Previous Panel View"})}run(d){return super.run(d,-1)}});a(class extends vo{constructor(){super("workbench.action.nextPanelView",{value:i("nextPanelView","Next Panel View"),original:"Next Panel View"})}run(d){return super.run(d,1)}});a(class extends M{constructor(){super({id:"workbench.action.closeAuxiliaryBar",title:{value:i("closeSecondarySideBar","Close Secondary Side Bar"),original:"Close Secondary Side Bar"},category:w.View,icon:Br,menu:[{id:s.CommandPalette,when:re},{id:s.AuxiliaryBarTitle,group:"navigation",order:2}]})}run(d){d.get(T).setPartHidden(!0,"workbench.parts.auxiliarybar")}});c.appendMenuItems([{id:s.LayoutControlMenu,item:{group:"0_workbench_toggles",command:{id:K.ID,title:i("togglePanel","Toggle Panel"),icon:Gr,toggled:{condition:qe,icon:Or}},when:g.or(g.equals("config.workbench.layoutControl.type","toggles"),g.equals("config.workbench.layoutControl.type","both")),order:1}},{id:s.ViewTitleContext,item:{group:"3_workbench_layout_move",command:{id:K.ID,title:{value:i("hidePanel","Hide Panel"),original:"Hide Panel"}},when:g.and(qe,g.equals("viewLocation",Li(1))),order:2}}]);class st extends M{constructor(e,t,o){super(o),this.source=e,this.destination=t}run(e,...t){const o=e.get(No),n=e.get(T),r=e.get(Uo),l=o.getViewContainersByLocation(this.source),u=o.getViewContainersByLocation(this.destination);if(l.length){const m=r.getVisibleViewContainer(this.source);l.forEach(f=>o.moveViewContainerToLocation(f,this.destination)),n.setPartHidden(!1,this.destination===1?"workbench.parts.panel":"workbench.parts.auxiliarybar"),m&&u.length===0&&r.openViewContainer(m.id,!0)}}}class ct extends st{constructor(){super(1,2,{id:ct.ID,title:{value:i("movePanelToSecondarySideBar","Move Panel Views To Secondary Side Bar"),original:"Move Panel Views To Secondary Side Bar"},category:w.View,f1:!1})}}ct.ID="workbench.action.movePanelToSidePanel";class dt extends st{constructor(){super(1,2,{id:dt.ID,title:{value:i("movePanelToSecondarySideBar","Move Panel Views To Secondary Side Bar"),original:"Move Panel Views To Secondary Side Bar"},category:w.View,f1:!0})}}dt.ID="workbench.action.movePanelToSecondarySideBar";a(ct);a(dt);class lt extends st{constructor(){super(2,1,{id:lt.ID,title:{value:i("moveSidePanelToPanel","Move Secondary Side Bar Views To Panel"),original:"Move Secondary Side Bar Views To Panel"},category:w.View,f1:!1})}}lt.ID="workbench.action.moveSidePanelToPanel";class ut extends st{constructor(){super(2,1,{id:ut.ID,title:{value:i("moveSidePanelToPanel","Move Secondary Side Bar Views To Panel"),original:"Move Secondary Side Bar Views To Panel"},category:w.View,f1:!0})}}ut.ID="workbench.action.moveSecondarySideBarToPanel";a(lt);a(ut);const Nr=y("menuBar",h.layoutMenubar,i("menuBarIcon","Represents the menu bar")),Ur=y("activity-bar-left",h.layoutActivitybarLeft,i("activityBarLeft","Represents the activity bar in the left position")),Hr=y("activity-bar-right",h.layoutActivitybarRight,i("activityBarRight","Represents the activity bar in the right position")),Lt=y("panel-left",h.layoutSidebarLeft,i("panelLeft","Represents a side bar in the left position"));y("panel-left-off",h.layoutSidebarLeftOff,i("panelLeftOff","Represents a side bar in the left position toggled off"));const Tt=y("panel-right",h.layoutSidebarRight,i("panelRight","Represents side bar in the right position"));y("panel-right-off",h.layoutSidebarRightOff,i("panelRightOff","Represents side bar in the right position toggled off"));const qr=y("panel-bottom",h.layoutPanel,i("panelBottom","Represents the bottom panel")),zr=y("statusBar",h.layoutStatusbar,i("statusBarIcon","Represents the status bar")),Kr=y("panel-align-left",h.layoutPanelLeft,i("panelBottomLeft","Represents the bottom panel alignment set to the left")),Wr=y("panel-align-right",h.layoutPanelRight,i("panelBottomRight","Represents the bottom panel alignment set to the right")),jr=y("panel-align-center",h.layoutPanelCenter,i("panelBottomCenter","Represents the bottom panel alignment set to the center")),Qr=y("panel-align-justify",h.layoutPanelJustify,i("panelBottomJustify","Represents the bottom panel alignment set to justified")),Jr=y("fullscreen",h.screenFull,i("fullScreenIcon","Represents full screen")),$r=y("centerLayoutIcon",h.layoutCentered,i("centerLayoutIcon","Represents centered layout mode")),Yr=y("zenMode",h.target,i("zenModeIcon","Represents zen mode"));class se extends M{constructor(){super({id:se.ID,title:{value:i("toggleActivityBar","Toggle Activity Bar Visibility"),mnemonicTitle:i({key:"miActivityBar",comment:["&& denotes a mnemonic"]},"&&Activity Bar"),original:"Toggle Activity Bar Visibility"},category:w.View,f1:!0,toggled:g.equals("config.workbench.activityBar.visible",!0),menu:[{id:s.MenubarAppearanceMenu,group:"2_workbench_layout",order:4}]})}run(e){const t=e.get(T),o=e.get(L),r=!t.isVisible("workbench.parts.activitybar");o.updateValue(se.activityBarVisibleKey,r)}}se.ID="workbench.action.toggleActivityBarVisibility";se.activityBarVisibleKey="workbench.activityBar.visible";const So="workbench.sideBar.location";class yo extends M{constructor(e,t,o){super({id:e,title:t,f1:!1}),this.position=o}async run(e){const t=e.get(T),o=e.get(L);if(t.getSideBarPosition()!==this.position)return o.updateValue(So,Pi(this.position))}}class gt extends yo{constructor(){super(gt.ID,{value:i("moveSidebarRight","Move Primary Side Bar Right"),original:"Move Primary Side Bar Right"},1)}}gt.ID="workbench.action.moveSideBarRight";class ht extends yo{constructor(){super(ht.ID,{value:i("moveSidebarLeft","Move Primary Side Bar Left"),original:"Move Primary Side Bar Left"},0)}}ht.ID="workbench.action.moveSideBarLeft";class pt extends M{static getLabel(e){return e.getSideBarPosition()===0?i("moveSidebarRight","Move Primary Side Bar Right"):i("moveSidebarLeft","Move Primary Side Bar Left")}constructor(){super({id:pt.ID,title:{value:i("toggleSidebarPosition","Toggle Primary Side Bar Position"),original:"Toggle Primary Side Bar Position"},category:w.View,f1:!0})}run(e){const t=e.get(T),o=e.get(L),r=t.getSideBarPosition()===0?"right":"left";return o.updateValue(So,r)}}pt.ID="workbench.action.toggleSidebarPosition";pt.LABEL=i("toggleSidebarPosition","Toggle Primary Side Bar Position");y("configure-layout-icon",h.layout,i("cofigureLayoutIcon","Icon represents workbench layout configuration."));class mt extends M{constructor(){super({id:mt.ID,title:{value:i("toggleSidebar","Toggle Primary Side Bar Visibility"),original:"Toggle Primary Side Bar Visibility"},toggled:{condition:_i,title:i("primary sidebar","Primary Side Bar"),mnemonicTitle:i({key:"primary sidebar mnemonic",comment:["&& denotes a mnemonic"]},"&&Primary Side Bar")},category:w.View,f1:!0,keybinding:{weight:200,primary:2080},menu:[{id:s.LayoutControlMenuSubmenu,group:"0_workbench_layout",order:0},{id:s.MenubarAppearanceMenu,group:"2_workbench_layout",order:1}]})}run(e){const t=e.get(T);t.setPartHidden(t.isVisible("workbench.parts.sidebar"),"workbench.parts.sidebar")}}mt.ID="workbench.action.toggleSidebarVisibility";class ce extends M{constructor(){super({id:ce.ID,title:{value:i("toggleStatusbar","Toggle Status Bar Visibility"),mnemonicTitle:i({key:"miStatusbar",comment:["&& denotes a mnemonic"]},"S&&tatus Bar"),original:"Toggle Status Bar Visibility"},category:w.View,f1:!0,toggled:g.equals("config.workbench.statusBar.visible",!0),menu:[{id:s.MenubarAppearanceMenu,group:"2_workbench_layout",order:3}]})}run(e){const t=e.get(T),o=e.get(L),r=!t.isVisible("workbench.parts.statusbar");return o.updateValue(ce.statusbarVisibleKey,r)}}ce.ID="workbench.action.toggleStatusbarVisibility";ce.statusbarVisibleKey="workbench.statusBar.visible";class ge extends M{constructor(){super({id:ge.ID,title:{value:i("toggleTabs","Toggle Tab Visibility"),original:"Toggle Tab Visibility"},category:w.View,f1:!0})}run(e){const t=e.get(L),n=!t.getValue("workbench.editor.showTabs");return t.updateValue("workbench.editor.showTabs",n)}}ge.ID="workbench.action.toggleTabsVisibility";a(ge);Gt.registerCommandAndKeybindingRule({id:"workbench.action.exitZenMode",weight:100-1e3,handler(d){const e=d.get(T),t=d.get(Ft);yt.getValue(t)&&e.toggleZenMode()},when:yt,primary:Di(9,9)});class Xr extends M{resizePart(e,t,o,n){let r;if(n===void 0){const l=o.hasFocus("workbench.parts.editor"),u=o.hasFocus("workbench.parts.sidebar"),m=o.hasFocus("workbench.parts.panel"),f=o.hasFocus("workbench.parts.auxiliarybar");u?r="workbench.parts.sidebar":m?r="workbench.parts.panel":l?r="workbench.parts.editor":f&&(r="workbench.parts.auxiliarybar")}else r=n;r&&o.resizePart(r,e,t)}}Xr.RESIZE_INCREMENT=60;const ne=(d,e,t,o)=>({id:d,active:e,label:t,visualIcon:o,activeIcon:h.eye,inactiveIcon:h.eyeClosed,activeAriaLabel:i("selectToHide","Select to Hide"),inactiveAriaLabel:i("selectToShow","Select to Show"),useButtons:!0}),z=(d,e,t,o)=>({id:d,active:e,label:t,visualIcon:o,activeIcon:h.check,activeAriaLabel:i("active","Active"),useButtons:!1}),Zr=g.and(Ho.toNegated(),g.notEquals("config.window.menuBarVisibility","hidden"),g.notEquals("config.window.menuBarVisibility","toggle"),g.notEquals("config.window.menuBarVisibility","compact")),Wt=[];(!qo||!zo)&&Wt.push(ne("workbench.action.toggleMenuBar",Zr,i("menuBar","Menu Bar"),Nr));Wt.push(ne(se.ID,g.equals("config.workbench.activityBar.visible",!0),i("activityBar","Activity Bar"),{whenA:g.equals("config.workbench.sideBar.location","left"),iconA:Ur,iconB:Hr}),ne(mt.ID,_i,i("sideBar","Primary Side Bar"),{whenA:g.equals("config.workbench.sideBar.location","left"),iconA:Lt,iconB:Tt}),ne(N.ID,re,i("secondarySideBar","Secondary Side Bar"),{whenA:g.equals("config.workbench.sideBar.location","left"),iconA:Tt,iconB:Lt}),ne(K.ID,qe,i("panel","Panel"),qr),ne(ce.ID,g.equals("config.workbench.statusBar.visible",!0),i("statusBar","Status Bar"),zr));const es=[z(ht.ID,g.equals("config.workbench.sideBar.location","left"),i("leftSideBar","Left"),Lt),z(gt.ID,g.equals("config.workbench.sideBar.location","right"),i("rightSideBar","Right"),Tt)],ts=[z("workbench.action.alignPanelLeft",fe.isEqualTo("left"),i("leftPanel","Left"),Kr),z("workbench.action.alignPanelRight",fe.isEqualTo("right"),i("rightPanel","Right"),Wr),z("workbench.action.alignPanelCenter",fe.isEqualTo("center"),i("centerPanel","Center"),jr),z("workbench.action.alignPanelJustify",fe.isEqualTo("justify"),i("justifyPanel","Justify"),Qr)],is=[z("workbench.action.toggleFullScreen",Ko,i("fullscreen","Full Screen"),Jr),z("workbench.action.toggleZenMode",yt,i("zenMode","Zen Mode"),Yr),z("workbench.action.toggleCenteredLayout",Wo,i("centeredLayout","Centered Layout"),$r)],os=new Set;for(const{active:d}of[...Wt,...es,...ts,...is])for(const e of d.keys())os.add(e);let Q=class extends wt{constructor(e,t,o,n,r,l,u,m){super(e,t,o,n,r,l,u,m)}getMetadata(){const e=this.getPrimaryEditorPane(),t=this.getSecondaryEditorPane();if(e instanceof ae&&t instanceof ae)return i("metadataDiff","{0} â†” {1}",t.getMetadata(),e.getMetadata())}};Q.ID=jo;Q=P([p(0,xi),p(1,Je),p(2,ye),p(3,Qo),p(4,L),p(5,Ri),p(6,te),p(7,Bi)],Q);var ns=".monaco-workbench .screen-reader-detected-explanation{cursor:default;padding:1em;right:6px;top:30px;width:420px}.monaco-workbench .screen-reader-detected-explanation .cancel{border:none;cursor:pointer;height:22px;padding:.5em;position:absolute;right:0;top:0;width:22px}.monaco-workbench .screen-reader-detected-explanation h2{font-size:1.8em;font-weight:400;margin:0;padding:0}.monaco-workbench .screen-reader-detected-explanation p{font-size:1.2em}.monaco-workbench .screen-reader-detected-explanation hr{border:0;height:2px}.monaco-workbench .screen-reader-detected-explanation .buttons{display:flex}.monaco-workbench .screen-reader-detected-explanation .buttons a{font-size:13px;margin-right:5px;max-width:fit-content;padding-left:12px;padding-right:12px}";Ti(ns,{});const as=new Jo("editorTabFocusMode",!1,!0);let Pt=class extends Ye{constructor(e,t){super(),this._onDidChange=this._register(new St),this.onDidChange=this._onDidChange.event,this._editorContext=as.bindTo(e),this._terminalContext=$o.bindTo(e);const o=t.getValue("editor.tabFocusMode"),n=t.getValue("terminal.integrated.tabFocusMode")??o;this._editorContext.set(o),this._terminalContext.set(n),V.setTabFocusMode(o,"editorFocus"),V.setTabFocusMode(n,"terminalFocus");const r=new Set;r.add("focusedView"),this._register(e.onDidChangeContext(l=>{if(l.affectsSome(r)){const u=e.getContextKeyValue("focusedView")==="terminal",m=u?"terminalFocus":"editorFocus";if(this._previousViewContext===m)return;u?this._editorContext.reset():this._terminalContext.reset(),this._previousViewContext=m,this._onDidChange.fire()}})),this._register(t.onDidChangeConfiguration(l=>{if(l.affectsConfiguration("editor.tabFocusMode")){const u=t.getValue("editor.tabFocusMode");V.setTabFocusMode(u,"editorFocus"),this._editorContext.set(u),t.getValue("terminal.integrated.tabFocusMode")===null&&(t.updateValue("terminal.integrated.tabFocusMode",u),V.setTabFocusMode(u,"terminalFocus"),this._terminalContext.set(u)),this._onDidChange.fire()}else if(l.affectsConfiguration("terminal.integrated.tabFocusMode")){const u=t.getValue("terminal.integrated.tabFocusMode")??t.getValue("editor.tabFocusMode");t.updateValue("terminal.integrated.tabFocusMode",u),V.setTabFocusMode(u,"terminalFocus"),this._terminalContext.set(u),this._onDidChange.fire()}})),V.onDidChangeTabFocus(()=>{const l=e.getContextKeyValue("focusedView")==="terminal"?"terminalFocus":"editorFocus";l==="terminalFocus"?this._terminalContext.set(V.getTabFocusMode(l)):this._editorContext.set(V.getTabFocusMode(l))})}};Pt=P([p(0,Ft),p(1,L)],Pt);class rs{constructor(e,t){this.primary=e,this.secondary=t}getEncoding(){return this.primary.getEncoding()}async setEncoding(e,t){await yn.settled([this.primary,this.secondary].map(o=>o.setEncoding(e,t)))}}class ss{constructor(e,t){this.primary=e,this.secondary=t}setLanguageId(e,t){[this.primary,this.secondary].forEach(o=>o.setLanguageId(e,t))}}function ve(d){if(d instanceof Ze)return d;if(d instanceof Ut){const t=ve(d.primary),o=ve(d.secondary);return t&&o?new rs(t,o):t}const e=d;return Sn(e.setEncoding,e.getEncoding)?e:null}function je(d){if(d instanceof Ze)return d;if(d instanceof Ut){const t=je(d.primary),o=je(d.secondary);return t&&o?new ss(t,o):t}const e=d;return typeof e.setLanguageId=="function"?e:null}class cs{constructor(){this.indentation=!1,this.selectionStatus=!1,this.languageId=!1,this.languageStatus=!1,this.encoding=!1,this.EOL=!1,this.tabFocusMode=!1,this.columnSelectionMode=!1,this.metadata=!1}combine(e){this.indentation=this.indentation||e.indentation,this.selectionStatus=this.selectionStatus||e.selectionStatus,this.languageId=this.languageId||e.languageId,this.languageStatus=this.languageStatus||e.languageStatus,this.encoding=this.encoding||e.encoding,this.EOL=this.EOL||e.EOL,this.tabFocusMode=this.tabFocusMode||e.tabFocusMode,this.columnSelectionMode=this.columnSelectionMode||e.columnSelectionMode,this.metadata=this.metadata||e.metadata}hasChanges(){return this.indentation||this.selectionStatus||this.languageId||this.languageStatus||this.encoding||this.EOL||this.tabFocusMode||this.columnSelectionMode||this.metadata}}class ds{get selectionStatus(){return this._selectionStatus}get languageId(){return this._languageId}get encoding(){return this._encoding}get EOL(){return this._EOL}get indentation(){return this._indentation}get tabFocusMode(){return this._tabFocusMode}get columnSelectionMode(){return this._columnSelectionMode}get metadata(){return this._metadata}update(e){const t=new cs;switch(e.type){case"selectionStatus":this._selectionStatus!==e.selectionStatus&&(this._selectionStatus=e.selectionStatus,t.selectionStatus=!0);break;case"indentation":this._indentation!==e.indentation&&(this._indentation=e.indentation,t.indentation=!0);break;case"languageId":this._languageId!==e.languageId&&(this._languageId=e.languageId,t.languageId=!0);break;case"encoding":this._encoding!==e.encoding&&(this._encoding=e.encoding,t.encoding=!0);break;case"EOL":this._EOL!==e.EOL&&(this._EOL=e.EOL,t.EOL=!0);break;case"tabFocusMode":this._tabFocusMode!==e.tabFocusMode&&(this._tabFocusMode=e.tabFocusMode,t.tabFocusMode=!0);break;case"columnSelectionMode":this._columnSelectionMode!==e.columnSelectionMode&&(this._columnSelectionMode=e.columnSelectionMode,t.columnSelectionMode=!0);break;case"metadata":this._metadata!==e.metadata&&(this._metadata=e.metadata,t.metadata=!0);break}return t}}const ls=i("singleSelectionRange","Ln {0}, Col {1} ({2} selected)"),us=i("singleSelection","Ln {0}, Col {1}"),gs=i("multiSelectionRange","{0} selections ({1} characters selected)"),hs=i("multiSelection","{0} selections"),wo=i("endOfLineLineFeed","LF"),Co=i("endOfLineCarriageReturnLineFeed","CRLF");let Dt=class extends Ye{constructor(e,t,o,n,r,l,u){super(),this.editorService=e,this.quickInputService=t,this.languageService=o,this.textFileService=n,this.statusbarService=r,this.instantiationService=l,this.contextKeyService=u,this.tabFocusModeElement=this._register(new G),this.columnSelectionModeElement=this._register(new G),this.indentationElement=this._register(new G),this.selectionElement=this._register(new G),this.encodingElement=this._register(new G),this.eolElement=this._register(new G),this.languageElement=this._register(new G),this.metadataElement=this._register(new G),this.currentProblemStatus=this._register(this.instantiationService.createInstance(_t)),this.state=new ds,this.activeEditorListeners=this._register(new Ot),this.delayedRender=this._register(new G),this.toRender=null,this.tabFocusMode=l.createInstance(Pt),this.registerCommands(),this.registerListeners()}registerListeners(){this._register(this.editorService.onDidActiveEditorChange(()=>this.updateStatusBar())),this._register(this.textFileService.untitled.onDidChangeEncoding(e=>this.onResourceEncodingChange(e.resource))),this._register(this.textFileService.files.onDidChangeEncoding(e=>this.onResourceEncodingChange(e.resource))),this._register(q.runAndSubscribe(V.onDidChangeTabFocus,()=>this.onTabFocusModeChange())),this._register(this.tabFocusMode.onDidChange(()=>this.onTabFocusModeChange()))}registerCommands(){Zo.registerCommand({id:"changeEditorIndentation",handler:()=>this.showIndentationPicker()})}async showIndentationPicker(){var n;const e=j(this.editorService.activeTextEditorControl);if(!e)return this.quickInputService.pick([{label:i("noEditor","No text editor active at this time")}]);if((n=this.editorService.activeEditor)!=null&&n.hasCapability(2))return this.quickInputService.pick([{label:i("noWritableCodeEditor","The active code editor is read-only.")}]);const t=[X(e.getAction(en.ID)),X(e.getAction(tn.ID)),X(e.getAction(on.ID)),X(e.getAction(nn.ID)),X(e.getAction(an.ID)),X(e.getAction(rn.ID)),X(e.getAction(sn.ID))].map(r=>({id:r.id,label:r.label,detail:Fi.isDefaultVariant()||r.label===r.alias?void 0:r.alias,run:()=>{e.focus(),r.run()}}));t.splice(3,0,{type:"separator",label:i("indentConvert","convert file")}),t.unshift({type:"separator",label:i("indentView","change view")});const o=await this.quickInputService.pick(t,{placeHolder:i("pickAction","Select Action"),matchOnDetail:!0});return o==null?void 0:o.run()}updateTabFocusModeElement(e){if(e){if(!this.tabFocusModeElement.value){const t=i("tabFocusModeEnabled","Tab Moves Focus");this.tabFocusModeElement.value=this.statusbarService.addEntry({name:i("status.editor.tabFocusMode","Accessibility Mode"),text:t,ariaLabel:t,tooltip:i("disableTabMode","Disable Accessibility Mode"),command:"editor.action.toggleTabFocusMode",backgroundColor:Re(ei),color:Re(ti)},"status.editor.tabFocusMode",1,100.7)}}else this.tabFocusModeElement.clear()}updateColumnSelectionModeElement(e){if(e){if(!this.columnSelectionModeElement.value){const t=i("columnSelectionModeEnabled","Column Selection");this.columnSelectionModeElement.value=this.statusbarService.addEntry({name:i("status.editor.columnSelectionMode","Column Selection Mode"),text:t,ariaLabel:t,tooltip:i("disableColumnSelectionMode","Disable Column Selection Mode"),command:"editor.action.toggleColumnSelection",backgroundColor:Re(ei),color:Re(ti)},"status.editor.columnSelectionMode",1,100.8)}}else this.columnSelectionModeElement.clear()}updateSelectionElement(e){if(!e){this.selectionElement.clear();return}const t={name:i("status.editor.selection","Editor Selection"),text:e,ariaLabel:e,tooltip:i("gotoLine","Go to Line/Column"),command:"workbench.action.gotoLine"};this.updateElement(this.selectionElement,t,"status.editor.selection",1,100.5)}updateIndentationElement(e){if(!e){this.indentationElement.clear();return}const t={name:i("status.editor.indentation","Editor Indentation"),text:e,ariaLabel:e,tooltip:i("selectIndentation","Select Indentation"),command:"changeEditorIndentation"};this.updateElement(this.indentationElement,t,"status.editor.indentation",1,100.4)}updateEncodingElement(e){if(!e){this.encodingElement.clear();return}const t={name:i("status.editor.encoding","Editor Encoding"),text:e,ariaLabel:e,tooltip:i("selectEncoding","Select Encoding"),command:"workbench.action.editor.changeEncoding"};this.updateElement(this.encodingElement,t,"status.editor.encoding",1,100.3)}updateEOLElement(e){if(!e){this.eolElement.clear();return}const t={name:i("status.editor.eol","Editor End of Line"),text:e,ariaLabel:e,tooltip:i("selectEOL","Select End of Line Sequence"),command:"workbench.action.editor.changeEOL"};this.updateElement(this.eolElement,t,"status.editor.eol",1,100.2)}updateLanguageIdElement(e){if(!e){this.languageElement.clear();return}const t={name:i("status.editor.mode","Editor Language"),text:e,ariaLabel:e,tooltip:i("selectLanguageMode","Select Language Mode"),command:"workbench.action.editor.changeLanguageMode"};this.updateElement(this.languageElement,t,"status.editor.mode",1,100.1)}updateMetadataElement(e){if(!e){this.metadataElement.clear();return}const t={name:i("status.editor.info","File Information"),text:e,ariaLabel:e,tooltip:i("fileInfo","File Information")};this.updateElement(this.metadataElement,t,"status.editor.info",1,100)}updateElement(e,t,o,n,r){e.value?e.value.update(t):e.value=this.statusbarService.addEntry(t,o,n,r)}updateState(e){const t=this.state.update(e);t.hasChanges()&&(this.toRender?this.toRender.combine(t):(this.toRender=t,this.delayedRender.value=cn(()=>{this.delayedRender.clear();const o=this.toRender;this.toRender=null,o&&this.doRenderNow(o)})))}doRenderNow(e){this.updateTabFocusModeElement(!!this.state.tabFocusMode),this.updateColumnSelectionModeElement(!!this.state.columnSelectionMode),this.updateIndentationElement(this.state.indentation),this.updateSelectionElement(this.state.selectionStatus),this.updateEncodingElement(this.state.encoding),this.updateEOLElement(this.state.EOL?this.state.EOL===`\r
`?Co:wo:void 0),this.updateLanguageIdElement(this.state.languageId),this.updateMetadataElement(this.state.metadata)}getSelectionLabel(e){if(!(!e||!e.selections)){if(e.selections.length===1)return e.charactersSelected?Be(ls,e.selections[0].positionLineNumber,e.selections[0].positionColumn,e.charactersSelected):Be(us,e.selections[0].positionLineNumber,e.selections[0].positionColumn);if(e.charactersSelected)return Be(gs,e.selections.length,e.charactersSelected);if(e.selections.length>0)return Be(hs,e.selections.length)}}updateStatusBar(){const e=this.editorService.activeEditor,t=this.editorService.activeEditorPane,o=t?ee(j(t.getControl())):void 0;if(this.onColumnSelectionModeChange(o),this.onSelectionChange(o),this.onLanguageChange(o,e),this.onEOLChange(o),this.onEncodingChange(t,o),this.onIndentationChange(o),this.onMetadataChange(t),this.currentProblemStatus.update(o),this.activeEditorListeners.clear(),t&&this.activeEditorListeners.add(t.onDidChangeControl(()=>{this.updateStatusBar()})),o)this.activeEditorListeners.add(o.onDidChangeConfiguration(n=>{n.hasChanged(20)&&this.onColumnSelectionModeChange(o)})),this.activeEditorListeners.add(q.defer(o.onDidChangeCursorPosition)(()=>{this.onSelectionChange(o),this.currentProblemStatus.update(o)})),this.activeEditorListeners.add(o.onDidChangeModelLanguage(()=>{this.onLanguageChange(o,e)})),this.activeEditorListeners.add(q.accumulate(o.onDidChangeModelContent)(n=>{this.onEOLChange(o),this.currentProblemStatus.update(o);const r=o.getSelections();if(r){for(const l of n)for(const u of l.changes)if(r.some(m=>Nt.areIntersecting(m,u.range))){this.onSelectionChange(o);break}}})),this.activeEditorListeners.add(o.onDidChangeModelOptions(()=>{this.onIndentationChange(o)}));else if(t instanceof ae||t instanceof Q){const n=[];if(t instanceof Q){const r=t.getPrimaryEditorPane();r instanceof ae&&n.push(r);const l=t.getSecondaryEditorPane();l instanceof ae&&n.push(l)}else n.push(t);for(const r of n)this.activeEditorListeners.add(r.onDidChangeMetadata(()=>{this.onMetadataChange(t)})),this.activeEditorListeners.add(r.onDidOpenInPlace(()=>{this.updateStatusBar()}))}}onLanguageChange(e,t){const o={type:"languageId",languageId:void 0};if(e&&t&&je(t)){const n=e.getModel();if(n){const r=n.getLanguageId();o.languageId=ee(this.languageService.getLanguageName(r))}}this.updateState(o)}onIndentationChange(e){const t={type:"indentation",indentation:void 0};if(e){const o=e.getModel();if(o){const n=o.getOptions();t.indentation=n.insertSpaces?n.tabSize===n.indentSize?i("spacesSize","Spaces: {0}",n.indentSize):i("spacesAndTabsSize","Spaces: {0} (Tab Size: {1})",n.indentSize,n.tabSize):i({key:"tabSize",comment:["Tab corresponds to the tab key"]},"Tab Size: {0}",n.tabSize)}}this.updateState(t)}onMetadataChange(e){const t={type:"metadata",metadata:void 0};(e instanceof ae||e instanceof Q)&&(t.metadata=e.getMetadata()),this.updateState(t)}onColumnSelectionModeChange(e){const t={type:"columnSelectionMode",columnSelectionMode:!1};e!=null&&e.getOption(20)&&(t.columnSelectionMode=!0),this.updateState(t)}onSelectionChange(e){const t=Object.create(null);if(e){t.selections=e.getSelections()||[],t.charactersSelected=0;const o=e.getModel();if(o)for(const n of t.selections)typeof t.charactersSelected!="number"&&(t.charactersSelected=0),t.charactersSelected+=o.getCharacterCountInRange(n);if(t.selections.length===1){const n=e.getPosition(),r=new dn(t.selections[0].selectionStartLineNumber,t.selections[0].selectionStartColumn,t.selections[0].positionLineNumber,n?e.getStatusbarColumn(n):t.selections[0].positionColumn);t.selections[0]=r}}this.updateState({type:"selectionStatus",selectionStatus:this.getSelectionLabel(t)})}onEOLChange(e){const t={type:"EOL",EOL:void 0};if(e&&!e.getOption(88)){const o=e.getModel();o&&(t.EOL=o.getEOL())}this.updateState(t)}onEncodingChange(e,t){if(e&&!this.isActiveEditor(e))return;const o={type:"encoding",encoding:void 0};if(e&&(t!=null&&t.hasModel())){const n=e.input?ve(e.input):null;if(n){const r=n.getEncoding(),l=typeof r=="string"?H[r]:void 0;l?o.encoding=l.labelShort:o.encoding=r}}this.updateState(o)}onResourceEncodingChange(e){const t=this.editorService.activeEditorPane;if(t){const o=ze.getCanonicalUri(t.input,{supportSideBySide:Ke.PRIMARY});if(o&&We(o,e)){const n=ee(j(t.getControl()));return this.onEncodingChange(t,n)}}}onTabFocusModeChange(){const e={type:"tabFocusMode",tabFocusMode:V.getTabFocusMode(this.contextKeyService.getContextKeyValue("focusedView")==="terminal"?"terminalFocus":"editorFocus")};this.updateState(e)}isActiveEditor(e){const t=this.editorService.activeEditorPane;return!!t&&t===e}};Dt=P([p(0,te),p(1,Xe),p(2,Oi),p(3,Vt),p(4,Gi),p(5,Je),p(6,Ft)],Dt);let _t=class extends Ye{constructor(e,t,o){super(),this.statusbarService=e,this.markerService=t,this.configurationService=o,this.editor=void 0,this.markers=[],this.currentMarker=null,this.statusBarEntryAccessor=this._register(new G),this._register(t.onMarkerChanged(n=>this.onMarkerChanged(n))),this._register(q.filter(o.onDidChangeConfiguration,n=>n.affectsConfiguration("problems.showCurrentInStatus"))(()=>this.updateStatus()))}update(e){this.editor=e,this.updateMarkers(),this.updateStatus()}updateStatus(){const e=this.currentMarker;if(this.currentMarker=this.getMarker(),this.hasToUpdateStatus(e,this.currentMarker))if(this.currentMarker){const t=ln(this.currentMarker.message)[0],o=`${this.getType(this.currentMarker)} ${t}`;this.statusBarEntryAccessor.value||(this.statusBarEntryAccessor.value=this.statusbarService.addEntry({name:i("currentProblem","Current Problem"),text:"",ariaLabel:""},"statusbar.currentProblem",0)),this.statusBarEntryAccessor.value.update({name:i("currentProblem","Current Problem"),text:o,ariaLabel:o})}else this.statusBarEntryAccessor.clear()}hasToUpdateStatus(e,t){return!t||!e?!0:ii.makeKey(e)!==ii.makeKey(t)}getType(e){switch(e.severity){case Z.Error:return"$(error)";case Z.Warning:return"$(warning)";case Z.Info:return"$(info)"}return""}getMarker(){if(!this.configurationService.getValue("problems.showCurrentInStatus")||!this.editor||!this.editor.getModel())return null;const t=this.editor.getPosition();return t&&this.markers.find(o=>Nt.containsPosition(o,t))||null}onMarkerChanged(e){if(!this.editor)return;const t=this.editor.getModel();t&&(t&&!e.some(o=>We(t.uri,o))||this.updateMarkers())}updateMarkers(){if(!this.editor)return;const e=this.editor.getModel();e&&(e?(this.markers=this.markerService.read({resource:e.uri,severities:Z.Error|Z.Warning|Z.Info}),this.markers.sort(ps)):this.markers=[],this.updateStatus())}};_t=P([p(0,Gi),p(1,Yo),p(2,L)],_t);function ps(d,e){let t=un(d.resource.toString(),e.resource.toString());return t===0&&(t=Z.compare(d.severity,e.severity)),t===0&&(t=Nt.compareRangesUsingStarts(d,e)),t}let Qe=class Io extends we{constructor(e,t,o){super(Io.ID,i("showLanguageExtensions","Search Marketplace Extensions for '{0}'...",e)),this.fileExtension=e,this.commandService=t,this.enabled=o.isEnabled()}async run(){await this.commandService.executeCommand("workbench.extensions.action.showExtensionsForLanguage",this.fileExtension)}};Qe.ID="workbench.action.showLanguageExtensions";Qe=P([p(1,Mi),p(2,Xo)],Qe);class Se extends M{constructor(){super({id:Se.ID,title:{value:i("changeMode","Change Language Mode"),original:"Change Language Mode"},f1:!0,keybinding:{weight:200,primary:Di(2089,43)},precondition:g.not("notebookEditorFocused")})}async run(e){var $t;const t=e.get(Xe),o=e.get(te),n=e.get(Oi),r=e.get(gn),l=e.get(Vt),u=e.get(hn),m=e.get(Je),f=e.get(L),b=e.get(xi),E=j(o.activeTextEditorControl);if(!E){await t.pick([{label:i("noEditor","No text editor active at this time")}]);return}const v=E.getModel(),S=ze.getOriginalUri(o.activeEditor,{supportSideBySide:Ke.PRIMARY});let I,k;v&&(k=v.getLanguageId(),I=ee(n.getLanguageName(k)));let A=!!S;(S==null?void 0:S.scheme)===Ct.untitled&&!(($t=l.untitled.get(S))!=null&&$t.hasAssociatedFilePath)&&(A=!1);const _=n.getSortedRegisteredLanguageNames().map(({languageName:W,languageId:F})=>{const Pe=n.getExtensions(F).join(" ");let O;return I===W?O=i("languageDescription","({0}) - Configured Language",F):O=i("languageDescriptionConfigured","({0})",F),{label:W,meta:Pe,iconClasses:oi(F),description:O}});_.unshift({type:"separator",label:i("languagesPicks","languages (identifier)")});let B,$,U;if(A&&S){const W=ni(S)||ai(S);U=m.createInstance(Qe,W),U.enabled&&_.unshift(U),$={label:i("configureModeSettings","Configure '{0}' language based settings...",I)},_.unshift($),B={label:i("configureAssociationsExt","Configure File Association for '{0}'...",W)},_.unshift(B)}const he={label:i("autoDetect","Auto Detect")};_.unshift(he);const C=await t.pick(_,{placeHolder:i("pickLanguage","Select Language Mode"),matchOnDescription:!0});if(!C)return;if(C===U){U.run();return}if(C===B){S&&this.configureFileAssociation(S,n,t,f);return}if(C===$){u.openUserSettings({jsonEditor:!0,revealSetting:{key:`[${pn(k)}]`,edit:!0}});return}const x=o.activeEditor;if(x){const W=je(x);if(W){let F,Pe;if(C===he){if(v){const O=ze.getOriginalUri(x,{supportSideBySide:Ke.PRIMARY});if(O){let Y=ee(n.guessLanguageIdByFilepathOrFirstLine(O,v.getLineContent(1)));(!Y||Y==="unknown")&&(Pe=await r.detectLanguage(O),Y=Pe),Y&&(F=n.createById(Y))}}}else{const O=n.getLanguageIdByLanguageName(C.label);F=n.createById(O),S&&r.detectLanguage(S).then(Y=>{const ko=n.getLanguageIdByLanguageName(C.label)||"unknown";if(Y===k&&k!==ko){const Lo=f.getValue("workbench.editor.preferHistoryBasedLanguageDetection")?"history":"classic";b.publicLog2(mn,{currentLanguageId:I??"unknown",nextLanguageId:C.label,lineCount:(v==null?void 0:v.getLineCount())??-1,modelPreference:Lo})}})}if(typeof F<"u"&&(W.setLanguageId(F.languageId,Se.ID),(S==null?void 0:S.scheme)===Ct.untitled)){const O=f.getValue("workbench.editor.preferHistoryBasedLanguageDetection")?"history":"classic";b.publicLog2("setUntitledDocumentLanguage",{to:F.languageId,from:k??"none",modelPreference:O})}}E.focus()}}configureFileAssociation(e,t,o,n){const r=ni(e),l=ai(e),u=t.guessLanguageIdByFilepathOrFirstLine(fn.file(l)),f=t.getSortedRegisteredLanguageNames().map(({languageName:b,languageId:E})=>({id:E,label:b,iconClasses:oi(E),description:E===u?i("currentAssociation","Current Association"):void 0}));setTimeout(async()=>{const b=await o.pick(f,{placeHolder:i("pickLanguageToConfigure","Select Language Mode to Associate with '{0}'",r||l)});if(b){const E=n.inspect(ri);let v;r&&l[0]!=="."?v=`*${r}`:v=l;let S=2;E.workspaceValue&&E.workspaceValue[v]&&(S=5);const I=bn(S===5?E.workspaceValue:E.userValue)||Object.create(null);I[v]=b.id,n.updateValue(ri,I,S)}},50)}}Se.ID="workbench.action.editor.changeLanguageMode";class ms extends M{constructor(){super({id:"workbench.action.editor.changeEOL",title:{value:i("changeEndOfLine","Change End of Line Sequence"),original:"Change End of Line Sequence"},f1:!0})}async run(e){var f,b;const t=e.get(te),o=e.get(Xe),n=j(t.activeTextEditorControl);if(!n){await o.pick([{label:i("noEditor","No text editor active at this time")}]);return}if((f=t.activeEditor)!=null&&f.hasCapability(2)){await o.pick([{label:i("noWritableCodeEditor","The active code editor is read-only.")}]);return}let r=n.getModel();const l=[{label:wo,eol:0},{label:Co,eol:1}],u=(r==null?void 0:r.getEOL())===`
`?0:1,m=await o.pick(l,{placeHolder:i("pickEndOfLine","Select End of Line Sequence"),activeItem:l[u]});if(m){const E=j(t.activeTextEditorControl);E!=null&&E.hasModel()&&!((b=t.activeEditor)!=null&&b.hasCapability(2))&&(r=E.getModel(),r.pushStackElement(),r.pushEOL(m.eol),r.pushStackElement())}n.focus()}}class fs extends M{constructor(){super({id:"workbench.action.editor.changeEncoding",title:{value:i("changeEncoding","Change File Encoding"),original:"Change File Encoding"},f1:!0})}async run(e){const t=e.get(te),o=e.get(Xe),n=e.get(En),r=e.get(Vt),l=e.get(Ri),u=j(t.activeTextEditorControl);if(!u){await o.pick([{label:i("noEditor","No text editor active at this time")}]);return}const m=t.activeEditorPane;if(!m){await o.pick([{label:i("noEditor","No text editor active at this time")}]);return}const f=ve(m.input);if(!f){await o.pick([{label:i("noFileEditor","No file active at this time")}]);return}const b={label:i("saveWithEncoding","Save with Encoding")},E={label:i("reopenWithEncoding","Reopen with Encoding")};if(!Fi.isDefaultVariant()){const C="Save with Encoding";C!==b.label&&(b.detail=C);const x="Reopen with Encoding";x!==E.label&&(E.detail=x)}let v;if(f instanceof Ze?v=b:m.input.hasCapability(2)?v=E:v=await o.pick([E,b],{placeHolder:i("pickAction","Select Action"),matchOnDetail:!0}),!v)return;await vn(50);const S=ze.getOriginalUri(m.input,{supportSideBySide:Ke.PRIMARY});if(!S||!n.hasProvider(S)&&S.scheme!==Ct.untitled)return;let I;n.hasProvider(S)&&(I=(await r.readStream(S,{autoGuessEncoding:!0})).encoding);const k=v===E,A=l.getValue(ee(S),"files.encoding");let J,_;const B=Object.keys(H).sort((C,x)=>C===A?-1:x===A?1:H[C].order-H[x].order).filter(C=>C===I&&I!==A?!1:!k||!H[C].encodeOnly).map((C,x)=>(C===f.getEncoding()?J=x:H[C].alias===f.getEncoding()&&(_=x),{id:C,label:H[C].labelLong,description:C})),$=B.slice();I&&A!==I&&H[I]&&(B.unshift({type:"separator"}),B.unshift({id:I,label:H[I].labelLong,description:i("guessedEncoding","Guessed from content")}));const U=await o.pick(B,{placeHolder:k?i("pickEncodingForReopen","Select File Encoding to Reopen File"):i("pickEncodingForSave","Select File Encoding to Save with"),activeItem:$[typeof J=="number"?J:typeof _=="number"?_:-1]});if(!U||!t.activeEditorPane)return;const he=ve(t.activeEditorPane.input);typeof U.id<"u"&&he&&await he.setEncoding(U.id,k?1:0),u.focus()}}let xt=class extends Ye{constructor(e,t,o,n,r,l){super(),this.filesConfigurationService=e,this.hostService=t,this.editorService=o,this.editorGroupService=n,this.workingCopyService=r,this.logService=l,this.pendingAutoSavesAfterDelay=new Map,this.lastActiveEditor=void 0,this.lastActiveGroupId=void 0,this.lastActiveEditorControlDisposable=this._register(new Ot),this.onAutoSaveConfigurationChange(e.getAutoSaveConfiguration(),!1);for(const u of this.workingCopyService.dirtyWorkingCopies)this.onDidRegister(u);this.registerListeners()}registerListeners(){this._register(this.hostService.onDidChangeFocus(e=>this.onWindowFocusChange(e))),this._register(this.editorService.onDidActiveEditorChange(()=>this.onDidActiveEditorChange())),this._register(this.filesConfigurationService.onAutoSaveConfigurationChange(e=>this.onAutoSaveConfigurationChange(e,!0))),this._register(this.workingCopyService.onDidRegister(e=>this.onDidRegister(e))),this._register(this.workingCopyService.onDidUnregister(e=>this.onDidUnregister(e))),this._register(this.workingCopyService.onDidChangeDirty(e=>this.onDidChangeDirty(e))),this._register(this.workingCopyService.onDidChangeContent(e=>this.onDidChangeContent(e)))}onWindowFocusChange(e){e||this.maybeTriggerAutoSave(4)}onDidActiveEditorChange(){this.lastActiveEditor&&typeof this.lastActiveGroupId=="number"&&this.maybeTriggerAutoSave(3,{groupId:this.lastActiveGroupId,editor:this.lastActiveEditor});const e=this.editorGroupService.activeGroup,t=this.lastActiveEditor=ee(e.activeEditor);this.lastActiveGroupId=e.id,this.lastActiveEditorControlDisposable.clear();const o=this.editorService.activeEditorPane;t&&o&&this.lastActiveEditorControlDisposable.add(o.onDidBlur(()=>{this.maybeTriggerAutoSave(3,{groupId:e.id,editor:t})}))}maybeTriggerAutoSave(e,t){if(t!=null&&t.editor.hasCapability(2)||t!=null&&t.editor.hasCapability(4))return;const o=this.filesConfigurationService.getAutoSaveMode();(e===4&&(o===3||o===4)||e===3&&o===3)&&(this.logService.trace(`[editor auto save] triggering auto save with reason ${e}`),t?this.editorService.save(t,{reason:e}):this.saveAllDirty({reason:e}))}onAutoSaveConfigurationChange(e,t){if(this.autoSaveAfterDelay=typeof e.autoSaveDelay=="number"&&e.autoSaveDelay>=0?e.autoSaveDelay:void 0,t){let o;switch(this.filesConfigurationService.getAutoSaveMode()){case 3:o=3;break;case 4:o=4;break;case 1:case 2:o=2;break}o&&this.saveAllDirty({reason:o})}}saveAllDirty(e){for(const t of this.workingCopyService.dirtyWorkingCopies)t.capabilities&2||t.save(e)}onDidRegister(e){e.isDirty()&&this.scheduleAutoSave(e)}onDidUnregister(e){this.discardAutoSave(e)}onDidChangeDirty(e){e.isDirty()?this.scheduleAutoSave(e):this.discardAutoSave(e)}onDidChangeContent(e){e.isDirty()&&this.scheduleAutoSave(e)}scheduleAutoSave(e){if(typeof this.autoSaveAfterDelay!="number"||e.capabilities&2)return;this.discardAutoSave(e),this.logService.trace(`[editor auto save] scheduling auto save after ${this.autoSaveAfterDelay}ms`,e.resource.toString(),e.typeId);const t=setTimeout(()=>{this.pendingAutoSavesAfterDelay.delete(e),e.isDirty()&&(this.logService.trace("[editor auto save] running auto save",e.resource.toString(),e.typeId),e.save({reason:2}))},this.autoSaveAfterDelay);this.pendingAutoSavesAfterDelay.set(e,Ue(()=>{this.logService.trace("[editor auto save] clearing pending auto save",e.resource.toString(),e.typeId),clearTimeout(t)}))}discardAutoSave(e){An(this.pendingAutoSavesAfterDelay.get(e)),this.pendingAutoSavesAfterDelay.delete(e)}};xt=P([p(0,wn),p(1,Cn),p(2,te),p(3,Bi),p(4,In),p(5,Mn)],xt);class jt extends M{constructor(){super({id:"diffEditor.toggleCollapseUnchangedRegions",title:{value:i("toggleCollapseUnchangedRegions","Toggle Collapse Unchanged Regions"),original:"Toggle Collapse Unchanged Regions"},icon:h.map,precondition:Ht.create("diffEditorVersion",2)})}run(e,...t){const o=e.get(L),n=!o.getValue("diffEditor.experimental.collapseUnchangedRegions");o.updateValue("diffEditor.experimental.collapseUnchangedRegions",n)}}a(jt);c.appendMenuItem(s.EditorTitle,{command:{id:new jt().desc.id,title:i("collapseUnchangedRegions","Collapse Unchanged Regions"),icon:h.map},group:"navigation",when:g.and(g.has("config.diffEditor.experimental.collapseUnchangedRegions"),Ht.create("diffEditorVersion",2))});c.appendMenuItem(s.EditorTitle,{command:{id:new jt().desc.id,title:i("showUnchangedRegions","Show Unchanged Regions"),icon:$e.modify(h.map,"disabled")},group:"navigation",when:g.and(g.has("config.diffEditor.experimental.collapseUnchangedRegions").negate(),Ht.create("diffEditorVersion",2))});ie.as(et.EditorPane).registerEditorPane(tt.create(fi,fi.ID,i("textEditor","Text Editor")),[new be(Ze),new be(kn)]);ie.as(et.EditorPane).registerEditorPane(tt.create(si,si.ID,i("textDiffEditor","Text Diff Editor")),[new be(Vi)]);ie.as(et.EditorPane).registerEditorPane(tt.create(Q,Q.ID,i("binaryDiffEditor","Binary Diff Editor")),[new be(Vi)]);ie.as(et.EditorPane).registerEditorPane(tt.create(wt,wt.ID,i("sideBySideEditor","Side by Side Editor")),[new be(Ut)]);ie.as(Ni.Workbench).registerWorkbenchContribution(xt,2);ie.as(Ni.Workbench).registerWorkbenchContribution(Dt,2);Ln(bi.ID,bi,1);const Qt=ie.as(Tn.Quickaccess),ft="inEditorsPicker",Mo=g.and(Lr,g.has(ft));Qt.registerQuickAccessProvider({ctor:ci,prefix:ci.PREFIX,contextKey:ft,placeholder:i("editorQuickAccessPlaceholder","Type the name of an editor to open it."),helpEntries:[{description:i("activeGroupEditorsByMostRecentlyUsedQuickAccess","Show Editors in Active Group by Most Recently Used"),commandId:Ui.ID}]});Qt.registerQuickAccessProvider({ctor:di,prefix:di.PREFIX,contextKey:ft,placeholder:i("editorQuickAccessPlaceholder","Type the name of an editor to open it."),helpEntries:[{description:i("allEditorsByAppearanceQuickAccess","Show All Opened Editors By Appearance"),commandId:Hi.ID}]});Qt.registerQuickAccessProvider({ctor:li,prefix:li.PREFIX,contextKey:ft,placeholder:i("editorQuickAccessPlaceholder","Type the name of an editor to open it."),helpEntries:[{description:i("allEditorsByMostRecentlyUsedQuickAccess","Show All Opened Editors By Most Recently Used"),commandId:qi.ID}]});a(Se);a(ms);a(fs);a(Pn);a(Dn);a(_n);a(xn);a(Rn);a(Bn);a(On);a(Gn);a(Fn);a(Vn);a(Nn);a(Un);a(zi);a(Ki);a(Hi);a(qi);a(Ui);a(Hn);a(qn);a(zn);a(Kn);a(Wn);a(jn);a(qt);a(Qn);a(Jn);a($n);a(Yn);a(Xn);a(Zn);a(ea);a(ta);a(ia);a(oa);a(na);a(aa);a(ra);a(sa);a(ca);a(da);a(la);a(ua);a(ga);a(ha);a(pa);a(ma);a(fa);a(ba);a(Ea);a(va);a(Sa);a(ya);a(wa);a(Ca);a(Ia);a(Ma);a(Aa);a(ka);a(La);a(Ta);a(Pa);a(Da);a(_a);a(xa);a(Ra);a(Ba);a(Oa);a(Ga);a(Fa);a(Va);a(Na);a(Ua);a(Ha);a(qa);a(za);a(Ka);a(Wa);a(ja);a(Qa);a(Ja);a($a);a(Ya);a(Xa);a(Za);a(er);a(Wi);a(ji);a(Qi);a(Ji);a($i);a(Yi);a(Xi);a(Zi);a(tr);a(ir);a(or);a(nr);a(ar);a(rr);a(sr);const yi="workbench.action.quickOpenNavigateNextInEditorPicker";Gt.registerCommandAndKeybindingRule({id:yi,weight:200+50,handler:bo(yi,!0),when:Mo,primary:2050,mac:{primary:258}});const wi="workbench.action.quickOpenNavigatePreviousInEditorPicker";Gt.registerCommandAndKeybindingRule({id:wi,weight:200+50,handler:bo(wi,!1),when:Mo,primary:3074,mac:{primary:1282}});cr();c.appendMenuItem(s.EmptyEditorGroup,{command:{id:eo,title:i("unlockGroupAction","Unlock Group"),icon:h.lock},group:"navigation",order:10,when:it});c.appendMenuItem(s.EmptyEditorGroup,{command:{id:to,title:i("closeGroupAction","Close Group"),icon:h.close},group:"navigation",order:20});c.appendMenuItem(s.EmptyEditorGroupContext,{command:{id:ot,title:i("splitUp","Split Up")},group:"2_split",order:10});c.appendMenuItem(s.EmptyEditorGroupContext,{command:{id:Ie,title:i("splitDown","Split Down")},group:"2_split",order:20});c.appendMenuItem(s.EmptyEditorGroupContext,{command:{id:nt,title:i("splitLeft","Split Left")},group:"2_split",order:30});c.appendMenuItem(s.EmptyEditorGroupContext,{command:{id:Me,title:i("splitRight","Split Right")},group:"2_split",order:40});c.appendMenuItem(s.EmptyEditorGroupContext,{command:{id:io,title:i("toggleLockGroup","Lock Group"),toggled:it},group:"3_lock",order:10,when:D});c.appendMenuItem(s.EmptyEditorGroupContext,{command:{id:to,title:i("close","Close")},group:"4_close",order:10,when:D});c.appendMenuItem(s.EditorTabsBarContext,{command:{id:ot,title:i("splitUp","Split Up")},group:"2_split",order:10});c.appendMenuItem(s.EditorTabsBarContext,{command:{id:Ie,title:i("splitDown","Split Down")},group:"2_split",order:20});c.appendMenuItem(s.EditorTabsBarContext,{command:{id:nt,title:i("splitLeft","Split Left")},group:"2_split",order:30});c.appendMenuItem(s.EditorTabsBarContext,{command:{id:Me,title:i("splitRight","Split Right")},group:"2_split",order:40});c.appendMenuItem(s.EditorTabsBarContext,{command:{id:ge.ID,title:i("toggleTabs","Enable Tabs"),toggled:g.has("config.workbench.editor.showTabs")},group:"3_config",order:10});c.appendMenuItem(s.EditorTitleContext,{command:{id:de,title:i("close","Close")},group:"1_close",order:10});c.appendMenuItem(s.EditorTitleContext,{command:{id:oo,title:i("closeOthers","Close Others"),precondition:dr.notEqualsTo("1")},group:"1_close",order:20});c.appendMenuItem(s.EditorTitleContext,{command:{id:no,title:i("closeRight","Close to the Right"),precondition:ao.toNegated()},group:"1_close",order:30,when:Ae});c.appendMenuItem(s.EditorTitleContext,{command:{id:zt,title:i("closeAllSaved","Close Saved")},group:"1_close",order:40});c.appendMenuItem(s.EditorTitleContext,{command:{id:ke,title:i("closeAll","Close All")},group:"1_close",order:50});c.appendMenuItem(s.EditorTitleContext,{command:{id:ro,title:i("reopenWith","Reopen Editor With...")},group:"1_open",order:10,when:so});c.appendMenuItem(s.EditorTitleContext,{command:{id:co,title:i("keepOpen","Keep Open"),precondition:lr.toNegated()},group:"3_preview",order:10,when:g.has("config.workbench.editor.enablePreview")});c.appendMenuItem(s.EditorTitleContext,{command:{id:lo,title:i("pin","Pin")},group:"3_preview",order:20,when:le.toNegated()});c.appendMenuItem(s.EditorTitleContext,{command:{id:at,title:i("unpin","Unpin")},group:"3_preview",order:20,when:le});c.appendMenuItem(s.EditorTitleContext,{command:{id:ot,title:i("splitUp","Split Up")},group:"5_split",order:10});c.appendMenuItem(s.EditorTitleContext,{command:{id:Ie,title:i("splitDown","Split Down")},group:"5_split",order:20});c.appendMenuItem(s.EditorTitleContext,{command:{id:nt,title:i("splitLeft","Split Left")},group:"5_split",order:30});c.appendMenuItem(s.EditorTitleContext,{command:{id:Me,title:i("splitRight","Split Right")},group:"5_split",order:40});c.appendMenuItem(s.EditorTitleContext,{command:{id:uo,title:i("splitInGroup","Split in Group")},group:"6_split_in_group",order:10,when:go});c.appendMenuItem(s.EditorTitleContext,{command:{id:ho,title:i("joinInGroup","Join in Group")},group:"6_split_in_group",order:10,when:Le});c.appendMenuItem(s.EditorTitle,{command:{id:ur,title:i("inlineView","Inline View"),toggled:g.equals("config.diffEditor.renderSideBySide",!1)},group:"1_diff",order:10,when:g.has("isInDiffEditor")});c.appendMenuItem(s.EditorTitle,{command:{id:gr,title:i("showOpenedEditors","Show Opened Editors")},group:"3_open",order:10});c.appendMenuItem(s.EditorTitle,{command:{id:ke,title:i("closeAll","Close All")},group:"5_close",order:10});c.appendMenuItem(s.EditorTitle,{command:{id:zt,title:i("closeAllSaved","Close Saved")},group:"5_close",order:20});c.appendMenuItem(s.EditorTitle,{command:{id:ge.ID,title:i("toggleTabs","Enable Tabs"),toggled:g.has("config.workbench.editor.showTabs")},group:"7_settings",order:5,when:g.has("config.workbench.editor.showTabs").negate()});c.appendMenuItem(s.EditorTitle,{command:{id:hr,title:i("togglePreviewMode","Enable Preview Editors"),toggled:g.has("config.workbench.editor.enablePreview")},group:"7_settings",order:10});c.appendMenuItem(s.EditorTitle,{command:{id:io,title:i("lockGroup","Lock Group"),toggled:it},group:"8_lock",order:10,when:D});function R(d,e,t,o,n){const r={command:{id:d.id,title:d.title,icon:d.icon,precondition:n},group:"navigation",when:e,order:t};o&&(r.alt={id:o.id,title:o.title,icon:o.icon}),c.appendMenuItem(s.EditorTitle,r)}const Jt=1e5,Te=1e6;R({id:qt.ID,title:i("splitEditorRight","Split Editor Right"),icon:h.splitHorizontal},g.not("splitEditorsVertically"),Jt,{id:Ie,title:i("splitEditorDown","Split Editor Down"),icon:h.splitVertical});R({id:qt.ID,title:i("splitEditorDown","Split Editor Down"),icon:h.splitVertical},g.has("splitEditorsVertically"),Jt,{id:Me,title:i("splitEditorRight","Split Editor Right"),icon:h.splitHorizontal});R({id:pr,title:i("toggleSplitEditorInGroupLayout","Toggle Layout"),icon:h.editorLayout},Le,Jt-1);R({id:de,title:i("close","Close"),icon:h.close},g.and(Ae.toNegated(),rt.toNegated(),le.toNegated()),Te,{id:ke,title:i("closeAll","Close All"),icon:h.closeAll});R({id:de,title:i("close","Close"),icon:h.closeDirty},g.and(Ae.toNegated(),rt,le.toNegated()),Te,{id:ke,title:i("closeAll","Close All"),icon:h.closeAll});R({id:at,title:i("unpin","Unpin"),icon:h.pinned},g.and(Ae.toNegated(),rt.toNegated(),le),Te,{id:de,title:i("close","Close"),icon:h.close});R({id:at,title:i("unpin","Unpin"),icon:h.pinnedDirty},g.and(Ae.toNegated(),rt,le),Te,{id:de,title:i("close","Close"),icon:h.close});R({id:eo,title:i("unlockEditorGroup","Unlock Group"),icon:h.lock},it,Te-1);const bs=y("diff-editor-previous-change",h.arrowUp,i("previousChangeIcon","Icon for the previous change action in the diff editor.")),Es=y("diff-editor-next-change",h.arrowDown,i("nextChangeIcon","Icon for the next change action in the diff editor.")),Ao=y("diff-editor-toggle-whitespace",h.whitespace,i("toggleWhitespace","Icon for the toggle whitespace action in the diff editor."));R({id:mr,title:i("navigate.prev.label","Previous Change"),icon:bs},ue,10);R({id:fr,title:i("navigate.next.label","Next Change"),icon:Es},ue,11);R({id:po,title:i("ignoreTrimWhitespace.label","Ignore Leading/Trailing Whitespace Differences"),icon:Ao},g.and(ue,g.notEquals("config.diffEditor.ignoreTrimWhitespace",!0)),20);R({id:po,title:i("showTrimWhitespace.label","Show Leading/Trailing Whitespace Differences"),icon:$e.modify(Ao,"disabled")},g.and(ue,g.notEquals("config.diffEditor.ignoreTrimWhitespace",!1)),20);c.appendMenuItem(s.CommandPalette,{command:{id:co,title:{value:i("keepEditor","Keep Editor"),original:"Keep Editor"},category:w.View},when:g.has("config.workbench.editor.enablePreview")});c.appendMenuItem(s.CommandPalette,{command:{id:lo,title:{value:i("pinEditor","Pin Editor"),original:"Pin Editor"},category:w.View}});c.appendMenuItem(s.CommandPalette,{command:{id:at,title:{value:i("unpinEditor","Unpin Editor"),original:"Unpin Editor"},category:w.View}});c.appendMenuItem(s.CommandPalette,{command:{id:de,title:{value:i("closeEditor","Close Editor"),original:"Close Editor"},category:w.View}});c.appendMenuItem(s.CommandPalette,{command:{id:br,title:{value:i("closePinnedEditor","Close Pinned Editor"),original:"Close Pinned Editor"},category:w.View}});c.appendMenuItem(s.CommandPalette,{command:{id:ke,title:{value:i("closeEditorsInGroup","Close All Editors in Group"),original:"Close All Editors in Group"},category:w.View}});c.appendMenuItem(s.CommandPalette,{command:{id:zt,title:{value:i("closeSavedEditors","Close Saved Editors in Group"),original:"Close Saved Editors in Group"},category:w.View}});c.appendMenuItem(s.CommandPalette,{command:{id:oo,title:{value:i("closeOtherEditors","Close Other Editors in Group"),original:"Close Other Editors in Group"},category:w.View}});c.appendMenuItem(s.CommandPalette,{command:{id:no,title:{value:i("closeRightEditors","Close Editors to the Right in Group"),original:"Close Editors to the Right in Group"},category:w.View},when:ao.toNegated()});c.appendMenuItem(s.CommandPalette,{command:{id:Er,title:{value:i("closeEditorGroup","Close Editor Group"),original:"Close Editor Group"},category:w.View},when:D});c.appendMenuItem(s.CommandPalette,{command:{id:ro,title:{value:i("reopenWith","Reopen Editor With..."),original:"Reopen Editor With..."},category:w.View},when:so});c.appendMenuItem(s.MenubarRecentMenu,{group:"1_editor",command:{id:zi.ID,title:i({key:"miReopenClosedEditor",comment:["&& denotes a mnemonic"]},"&&Reopen Closed Editor"),precondition:g.has("canReopenClosedEditor")},order:1});c.appendMenuItem(s.MenubarRecentMenu,{group:"z_clear",command:{id:Ki.ID,title:i({key:"miClearRecentOpen",comment:["&& denotes a mnemonic"]},"&&Clear Recently Opened")},order:1});c.appendMenuItem(s.MenubarViewMenu,{group:"2_appearance",title:i({key:"miEditorLayout",comment:["&& denotes a mnemonic"]},"Editor &&Layout"),submenu:s.MenubarLayoutMenu,order:2});c.appendMenuItem(s.MenubarLayoutMenu,{group:"1_split",command:{id:ot,title:{original:"Split Up",value:i("miSplitEditorUpWithoutMnemonic","Split Up"),mnemonicTitle:i({key:"miSplitEditorUp",comment:["&& denotes a mnemonic"]},"Split &&Up")}},order:1});c.appendMenuItem(s.MenubarLayoutMenu,{group:"1_split",command:{id:Ie,title:{original:"Split Down",value:i("miSplitEditorDownWithoutMnemonic","Split Down"),mnemonicTitle:i({key:"miSplitEditorDown",comment:["&& denotes a mnemonic"]},"Split &&Down")}},order:2});c.appendMenuItem(s.MenubarLayoutMenu,{group:"1_split",command:{id:nt,title:{original:"Split Left",value:i("miSplitEditorLeftWithoutMnemonic","Split Left"),mnemonicTitle:i({key:"miSplitEditorLeft",comment:["&& denotes a mnemonic"]},"Split &&Left")}},order:3});c.appendMenuItem(s.MenubarLayoutMenu,{group:"1_split",command:{id:Me,title:{original:"Split Right",value:i("miSplitEditorRightWithoutMnemonic","Split Right"),mnemonicTitle:i({key:"miSplitEditorRight",comment:["&& denotes a mnemonic"]},"Split &&Right")}},order:4});c.appendMenuItem(s.MenubarLayoutMenu,{group:"2_split_in_group",command:{id:uo,title:{original:"Split in Group",value:i("miSplitEditorInGroupWithoutMnemonic","Split in Group"),mnemonicTitle:i({key:"miSplitEditorInGroup",comment:["&& denotes a mnemonic"]},"Split in &&Group")}},when:go,order:1});c.appendMenuItem(s.MenubarLayoutMenu,{group:"2_split_in_group",command:{id:ho,title:{original:"Join in Group",value:i("miJoinEditorInGroupWithoutMnemonic","Join in Group"),mnemonicTitle:i({key:"miJoinEditorInGroup",comment:["&& denotes a mnemonic"]},"Join in &&Group")}},when:Le,order:1});c.appendMenuItem(s.MenubarLayoutMenu,{group:"3_layouts",command:{id:Wi.ID,title:{original:"Single",value:i("miSingleColumnEditorLayoutWithoutMnemonic","Single"),mnemonicTitle:i({key:"miSingleColumnEditorLayout",comment:["&& denotes a mnemonic"]},"&&Single")}},order:1});c.appendMenuItem(s.MenubarLayoutMenu,{group:"3_layouts",command:{id:ji.ID,title:{original:"Two Columns",value:i("miTwoColumnsEditorLayoutWithoutMnemonic","Two Columns"),mnemonicTitle:i({key:"miTwoColumnsEditorLayout",comment:["&& denotes a mnemonic"]},"&&Two Columns")}},order:3});c.appendMenuItem(s.MenubarLayoutMenu,{group:"3_layouts",command:{id:Qi.ID,title:{original:"Three Columns",value:i("miThreeColumnsEditorLayoutWithoutMnemonic","Three Columns"),mnemonicTitle:i({key:"miThreeColumnsEditorLayout",comment:["&& denotes a mnemonic"]},"T&&hree Columns")}},order:4});c.appendMenuItem(s.MenubarLayoutMenu,{group:"3_layouts",command:{id:Ji.ID,title:{original:"Two Rows",value:i("miTwoRowsEditorLayoutWithoutMnemonic","Two Rows"),mnemonicTitle:i({key:"miTwoRowsEditorLayout",comment:["&& denotes a mnemonic"]},"T&&wo Rows")}},order:5});c.appendMenuItem(s.MenubarLayoutMenu,{group:"3_layouts",command:{id:$i.ID,title:{original:"Three Rows",value:i("miThreeRowsEditorLayoutWithoutMnemonic","Three Rows"),mnemonicTitle:i({key:"miThreeRowsEditorLayout",comment:["&& denotes a mnemonic"]},"Three &&Rows")}},order:6});c.appendMenuItem(s.MenubarLayoutMenu,{group:"3_layouts",command:{id:Yi.ID,title:{original:"Grid (2x2)",value:i("miTwoByTwoGridEditorLayoutWithoutMnemonic","Grid (2x2)"),mnemonicTitle:i({key:"miTwoByTwoGridEditorLayout",comment:["&& denotes a mnemonic"]},"&&Grid (2x2)")}},order:7});c.appendMenuItem(s.MenubarLayoutMenu,{group:"3_layouts",command:{id:Xi.ID,title:{original:"Two Rows Right",value:i("miTwoRowsRightEditorLayoutWithoutMnemonic","Two Rows Right"),mnemonicTitle:i({key:"miTwoRowsRightEditorLayout",comment:["&& denotes a mnemonic"]},"Two R&&ows Right")}},order:8});c.appendMenuItem(s.MenubarLayoutMenu,{group:"3_layouts",command:{id:Zi.ID,title:{original:"Two Columns Bottom",value:i("miTwoColumnsBottomEditorLayoutWithoutMnemonic","Two Columns Bottom"),mnemonicTitle:i({key:"miTwoColumnsBottomEditorLayout",comment:["&& denotes a mnemonic"]},"Two &&Columns Bottom")}},order:9});c.appendMenuItem(s.MenubarGoMenu,{group:"1_history_nav",command:{id:"workbench.action.navigateToLastEditLocation",title:i({key:"miLastEditLocation",comment:["&& denotes a mnemonic"]},"&&Last Edit Location"),precondition:g.has("canNavigateToLastEditLocation")},order:3});c.appendMenuItem(s.MenubarSwitchEditorMenu,{group:"1_sideBySide",command:{id:vr,title:i({key:"miFirstSideEditor",comment:["&& denotes a mnemonic"]},"&&First Side in Editor")},when:g.or(Le,ue),order:1});c.appendMenuItem(s.MenubarSwitchEditorMenu,{group:"1_sideBySide",command:{id:Sr,title:i({key:"miSecondSideEditor",comment:["&& denotes a mnemonic"]},"&&Second Side in Editor")},when:g.or(Le,ue),order:2});c.appendMenuItem(s.MenubarSwitchEditorMenu,{group:"2_any",command:{id:"workbench.action.nextEditor",title:i({key:"miNextEditor",comment:["&& denotes a mnemonic"]},"&&Next Editor")},order:1});c.appendMenuItem(s.MenubarSwitchEditorMenu,{group:"2_any",command:{id:"workbench.action.previousEditor",title:i({key:"miPreviousEditor",comment:["&& denotes a mnemonic"]},"&&Previous Editor")},order:2});c.appendMenuItem(s.MenubarSwitchEditorMenu,{group:"3_any_used",command:{id:"workbench.action.openNextRecentlyUsedEditor",title:i({key:"miNextRecentlyUsedEditor",comment:["&& denotes a mnemonic"]},"&&Next Used Editor")},order:1});c.appendMenuItem(s.MenubarSwitchEditorMenu,{group:"3_any_used",command:{id:"workbench.action.openPreviousRecentlyUsedEditor",title:i({key:"miPreviousRecentlyUsedEditor",comment:["&& denotes a mnemonic"]},"&&Previous Used Editor")},order:2});c.appendMenuItem(s.MenubarSwitchEditorMenu,{group:"4_group",command:{id:"workbench.action.nextEditorInGroup",title:i({key:"miNextEditorInGroup",comment:["&& denotes a mnemonic"]},"&&Next Editor in Group")},order:1});c.appendMenuItem(s.MenubarSwitchEditorMenu,{group:"4_group",command:{id:"workbench.action.previousEditorInGroup",title:i({key:"miPreviousEditorInGroup",comment:["&& denotes a mnemonic"]},"&&Previous Editor in Group")},order:2});c.appendMenuItem(s.MenubarSwitchEditorMenu,{group:"5_group_used",command:{id:"workbench.action.openNextRecentlyUsedEditorInGroup",title:i({key:"miNextUsedEditorInGroup",comment:["&& denotes a mnemonic"]},"&&Next Used Editor in Group")},order:1});c.appendMenuItem(s.MenubarSwitchEditorMenu,{group:"5_group_used",command:{id:"workbench.action.openPreviousRecentlyUsedEditorInGroup",title:i({key:"miPreviousUsedEditorInGroup",comment:["&& denotes a mnemonic"]},"&&Previous Used Editor in Group")},order:2});c.appendMenuItem(s.MenubarGoMenu,{group:"2_editor_nav",title:i({key:"miSwitchEditor",comment:["&& denotes a mnemonic"]},"Switch &&Editor"),submenu:s.MenubarSwitchEditorMenu,order:1});c.appendMenuItem(s.MenubarSwitchGroupMenu,{group:"1_focus_index",command:{id:"workbench.action.focusFirstEditorGroup",title:i({key:"miFocusFirstGroup",comment:["&& denotes a mnemonic"]},"Group &&1")},order:1});c.appendMenuItem(s.MenubarSwitchGroupMenu,{group:"1_focus_index",command:{id:"workbench.action.focusSecondEditorGroup",title:i({key:"miFocusSecondGroup",comment:["&& denotes a mnemonic"]},"Group &&2")},order:2});c.appendMenuItem(s.MenubarSwitchGroupMenu,{group:"1_focus_index",command:{id:"workbench.action.focusThirdEditorGroup",title:i({key:"miFocusThirdGroup",comment:["&& denotes a mnemonic"]},"Group &&3"),precondition:D},order:3});c.appendMenuItem(s.MenubarSwitchGroupMenu,{group:"1_focus_index",command:{id:"workbench.action.focusFourthEditorGroup",title:i({key:"miFocusFourthGroup",comment:["&& denotes a mnemonic"]},"Group &&4"),precondition:D},order:4});c.appendMenuItem(s.MenubarSwitchGroupMenu,{group:"1_focus_index",command:{id:"workbench.action.focusFifthEditorGroup",title:i({key:"miFocusFifthGroup",comment:["&& denotes a mnemonic"]},"Group &&5"),precondition:D},order:5});c.appendMenuItem(s.MenubarSwitchGroupMenu,{group:"2_next_prev",command:{id:"workbench.action.focusNextGroup",title:i({key:"miNextGroup",comment:["&& denotes a mnemonic"]},"&&Next Group"),precondition:D},order:1});c.appendMenuItem(s.MenubarSwitchGroupMenu,{group:"2_next_prev",command:{id:"workbench.action.focusPreviousGroup",title:i({key:"miPreviousGroup",comment:["&& denotes a mnemonic"]},"&&Previous Group"),precondition:D},order:2});c.appendMenuItem(s.MenubarSwitchGroupMenu,{group:"3_directional",command:{id:"workbench.action.focusLeftGroup",title:i({key:"miFocusLeftGroup",comment:["&& denotes a mnemonic"]},"Group &&Left"),precondition:D},order:1});c.appendMenuItem(s.MenubarSwitchGroupMenu,{group:"3_directional",command:{id:"workbench.action.focusRightGroup",title:i({key:"miFocusRightGroup",comment:["&& denotes a mnemonic"]},"Group &&Right"),precondition:D},order:2});c.appendMenuItem(s.MenubarSwitchGroupMenu,{group:"3_directional",command:{id:"workbench.action.focusAboveGroup",title:i({key:"miFocusAboveGroup",comment:["&& denotes a mnemonic"]},"Group &&Above"),precondition:D},order:3});c.appendMenuItem(s.MenubarSwitchGroupMenu,{group:"3_directional",command:{id:"workbench.action.focusBelowGroup",title:i({key:"miFocusBelowGroup",comment:["&& denotes a mnemonic"]},"Group &&Below"),precondition:D},order:4});c.appendMenuItem(s.MenubarGoMenu,{group:"2_editor_nav",title:i({key:"miSwitchGroup",comment:["&& denotes a mnemonic"]},"Switch &&Group"),submenu:s.MenubarSwitchGroupMenu,order:2});let Ci=class extends yr{constructor(e,t,o){super(t),this.editorService=e,this.configurationService=o,this.registerCodeEditorOpenHandler(this.doOpenCodeEditor.bind(this)),this.registerCodeEditorOpenHandler(this.doOpenCodeEditorFromDiff.bind(this))}getActiveCodeEditor(){var o;const e=this.editorService.activeTextEditorControl;if(Oe(e))return e;if(ui(e))return e.getModifiedEditor();const t=(o=this.editorService.activeEditorPane)==null?void 0:o.getControl();return gi(t)&&Oe(t.activeCodeEditor)?t.activeCodeEditor:null}async doOpenCodeEditorFromDiff(e,t,o){var r;const n=this.editorService.activeTextEditorControl;if(!o&&ui(n)&&e.options&&e.resource&&t===n.getModifiedEditor()&&n.getModel()&&We(e.resource,(r=n.getModel())==null?void 0:r.modified.uri)){const l=n.getModifiedEditor();return mo(e.options,l,0),l}return null}async doOpenCodeEditor(e,t,o){var l,u,m,f;if(!((u=(l=this.configurationService.getValue().workbench)==null?void 0:l.editor)==null?void 0:u.enablePreviewFromCodeNavigation)&&t&&!((m=e.options)!=null&&m.pinned)&&!o&&!We((f=t.getModel())==null?void 0:f.uri,e.resource)){for(const b of this.editorService.visibleEditorPanes)if(j(b.getControl())===t){b.group.pinEditor();break}}const r=await this.editorService.openEditor(e,o?fo:wr);if(r){const b=r.getControl();if(Oe(b))return b;if(gi(b)&&Oe(b.activeCodeEditor))return b.activeCodeEditor}return null}};Ci=P([p(0,te),p(1,ye),p(2,L)],Ci);class vs{constructor(e){this.editor=e,this.onDidChangeControl=q.None,this.onDidChangeSizeConstraints=q.None,this.onDidFocus=q.None,this.onDidBlur=q.None,this.input=void 0,this.options=void 0,this.group=void 0,this.scopedContextKeyService=void 0,this.getViewState=oe,this.isVisible=oe,this.hasFocus=oe,this.getId=oe,this.getTitle=oe,this.focus=oe}get minimumWidth(){return pi.width}get maximumWidth(){return mi.width}get minimumHeight(){return pi.height}get maximumHeight(){return mi.height}getControl(){return this.editor}}function Gs(d,e,t){async function o(n,r,l){const u=hi(n)?r:n.options;Cr(r)&&(l=r);const m=Ir(n)||hi(n)?n.resource:void 0;if(m==null||!d.canHandleResource(m))return e(n,r,l);let f;const b=await d.createModelReference(m);if(f=Mr.get(Ar).listCodeEditors().find(v=>v instanceof kr&&v.getModel()===b.object.textEditorModel),f==null){const v=await e(n,r,l);if(v!=null)return b.dispose(),v;f=await(t==null?void 0:t(b,u,l===fo))}if(f==null){b.dispose();return}return u!=null&&mo(u,f,1),((u==null?void 0:u.preserveFocus)??!1)||(f.focus(),f.getContainerDomNode().scrollIntoView()),new vs(f)}return o}export{Kt as A,Is as C,kt as P,Tr as T,Ee as a,ks as b,vi as c,Ei as d,pt as e,se as f,Ps as g,Si as h,K as i,ce as j,Ci as k,Gs as w};
